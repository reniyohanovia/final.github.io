(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[5698],{626824:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var s=r(45697),o=r.n(s),i=r(753370),n=r.n(i),l=r(180307),c=r.n(l);function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p extends(n()){constructor(e){super(e),a(this,"scrollListener",(()=>{this.props.isFocused||(this.scroll=this.canvas.scrollTop);const e=Math.ceil(this.canvas.clientHeight/this.props.rowHeight),t=Math.floor(this.canvas.scrollTop/this.props.rowHeight),r=t+e;this.props.onGridScroll&&this.props.onGridScroll({firstRowIdx:t,lastRowIdx:r})})),a(this,"setCanvasListener",(()=>{this.canvas=c().findDOMNode(this).querySelector(".react-grid-Canvas"),this.header=c().findDOMNode(this).querySelector(".react-grid-HeaderRow"),this.canvas&&this.canvas.addEventListener("scroll",this.scrollListener)}))}componentDidMount(){this.setCanvasListener(),this.props.displayFilters&&this.onToggleFilter()}componentWillUnmount(){this.canvas&&(this.canvas.removeEventListener("scroll",this.scrollListener),this.canvas=null),this.props.displayFilters&&this.onToggleFilter()}componentDidUpdate(e){const{virtualScroll:t,displayFilters:r,scrollToTopCounter:s}=this.props;e.displayFilters!==r&&this.onToggleFilter(),t&&(this.canvas&&this.canvas!==c().findDOMNode(this).querySelector(".react-grid-Canvas")&&(this.canvas.removeEventListener("scroll",this.scrollListener),this.setCanvasListener()),this.canvas||this.setCanvasListener(),this.canvas&&e.isFocused&&!this.props.isFocused?this.canvas.scrollTop=this.scroll:this.canvas&&this.props.minHeight!==e.minHeight&&this.scrollListener(),!this.props.isFocused&&this.canvas&&(this.scroll=this.canvas.scrollTop),s!==e.scrollToTopCounter&&this.canvas?this.canvas.scrollTop=0:this.canvas&&this.header&&(this.canvas.scrollLeft=this.header.scrollLeft))}}a(p,"propTypes",{displayFilters:o().bool});const d=p},785698:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var s=r(124852),o=r.n(s),i=r(45697),n=r.n(i);function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c={ALLOW:{classNameRow:"ms-allow-row"},DENY:{classNameRow:"ms-deny-row"}};class a extends o().Component{constructor(e){super(e),this.setScrollLeft=e=>this.row.setScrollLeft(e)}componentWillUnmount(){this.setScrollLeft=null}render(){const{row:e={},isSelected:t}=this.props,r=(t?" ms-row-select ":"")+((c[e.grant]||{}).classNameRow||" ");return this.props.renderBaseRow({extraClasses:r,...this.props})}}l(a,"propTypes",{idx:n().oneOfType([n().string,n().number]),row:n().object,renderBaseRow:n().func.isRequired,isSelected:n().bool}),l(a,"defaultProps",{selected:[]});const p=a;var d=r(747119),u=r(45453),h=r(626824),w=r(590937),g=r(753370);const{CheckboxEditor:m}=g.editors;class v extends o().Component{renderRowIndex(){return o().createElement("div",{className:"rdg-row-index"},this.props.dependentValues&&this.props.dependentValues.priority||"")}render(){const{connectDragSource:e,rowSelection:t}=this.props;let r=null!==t?{position:"absolute",marginTop:"-2px",marginLeft:"3px"}:{},s=this.props.value,i=s?"rdg-actions-checkbox selected":"rdg-actions-checkbox";return e(o().createElement("div",null,o().createElement("div",{className:"rdg-drag-row-handle",style:r}),s?null:this.renderRowIndex(),null!==t&&o().createElement("div",{className:i},o().createElement(m,{column:this.props.column,rowIdx:this.props.rowIdx,dependentValues:this.props.dependentValues,value:this.props.value}))))}}v.propTypes={rowIdx:n().number.isRequired,connectDragSource:n().func.isRequired,connectDragPreview:n().func.isRequired,isDragging:n().bool.isRequired,isRowHovered:n().bool,column:n().object,dependentValues:n().object,value:n().bool,rowSelection:n().object.isRequired},v.defaultProps={rowIdx:0};const f=(0,w.Ej)("Row",{beginDrag:e=>({idx:e.rowIdx,data:e.dependentValues}),endDrag:e=>({idx:e.rowIdx,data:e.dependentValues})},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging(),connectDragPreview:e.dragPreview()}}))(v);function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{Container:b,DropTargetRowContainer:S}=u.Draggable,R=S(p);class x extends o().Component{constructor(){super(...arguments),y(this,"componentDidUpdate",(e=>{let{rowsCount:t,isEditing:r}=e;(this.props.rowsCount>0&&t!==this.props.rowsCount||r&&!this.props.isEditing)&&this.grid.scrollListener()})),y(this,"onRowsSelected",(e=>{const t=this._getSelectedRow(this.props.rowKey,this.props.selectedIds,this.props.rows).concat(e.map((e=>{let{row:t}=e;return t})).filter((e=>{let{id:t}=e;return"empty_row"!==t})));t.length>0&&this.props.onSelect(t)})),y(this,"onRowsDeselected",(e=>{let t=e.map((e=>e.row[this.props.rowKey]));const r=this.props.selectedIds.filter((e=>-1===t.indexOf(e)));this.props.onSelect(this._getSelectedRow(this.props.rowKey,r,this.props.rows))})),y(this,"isDraggedRowSelected",((e,t)=>{if(e&&e.length>0){let r=this.props.rowKey;return e.filter((e=>e[r]===t.data[r])).length>0}return!1})),y(this,"_getSelectedRow",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).reduce(((s,o)=>s.concat(r[o].filter((r=>-1!==t.indexOf(r[e]))))),[])})),y(this,"reorderRows",(e=>{if("empty_row"===e.rowSource.data[this.props.rowKey]||"empty_row"===e.rowTarget.data[this.props.rowKey])return;if(e.rowSource.idx===e.rowTarget.idx)return;let t=this._getSelectedRow(this.props.rowKey,this.props.selectedIds,this.props.rows),r=this.isDraggedRowSelected(t,e.rowSource)?t:[e.rowSource.data];this.props.onReorderRows({rules:r,targetPriority:e.rowTarget.data.priority})}))}componentDidMount(){this.props.rowsCount>0&&this.grid.scrollListener()}componentWillUnmount(){this.grid=null}render(){return o().createElement(b,null,o().createElement(h.Z,{displayFilters:!0,ref:e=>{this.grid=e},enableCellSelection:!1,emptyRowsView:()=>o().createElement(d.Z,{glyph:"inbox"}),rowActionsCell:f,columns:this.props.columns,rowGetter:this.props.rowGetter,rowsCount:this.props.rowsCount,rows:this.props.rows,minHeight:this.props.height,minWidth:this.props.width,rowRenderer:o().createElement(R,{onRowDrop:this.reorderRows}),virtualScroll:!0,onGridScroll:this.props.onGridScroll,onAddFilter:this.props.onAddFilter,rowSelection:{showCheckbox:!0,enableShiftSelect:!0,onRowsSelected:this.onRowsSelected,onRowsDeselected:this.onRowsDeselected,selectBy:{keys:{rowKey:this.props.rowKey,values:this.props.selectedIds}}}}))}}y(x,"propTypes",{rowKey:n().string.isRequired,width:n().number,height:n().number,rows:n().oneOfType([n().array,n().object]),rowsCount:n().number,columns:n().array,onSelect:n().func,selectedIds:n().array,rowGetter:n().func,onGridScroll:n().func,onAddFilter:n().func,onReorderRows:n().func,isEditing:n().bool}),y(x,"contextTypes",{messages:n().object}),y(x,"defaultProps",{rowKey:"id",rows:[],onSort:()=>{},onSelect:()=>{},selectedIds:[],columns:[],isEditing:!1});const C=x}}]);