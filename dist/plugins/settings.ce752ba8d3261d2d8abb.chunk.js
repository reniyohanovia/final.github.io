(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[4551],{555735:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var o=n(124852),r=n.n(o),s=n(45697),i=n.n(s),l=n(630294),a=n(91175),p=n.n(a),c=n(719648),u=n(401811),m=n(23888);function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends r().Component{constructor(){super(...arguments),d(this,"launchFlagAction",(e=>{this.props.onFlagSelected(e)}))}render(){let e,t=r().createElement(l.Tooltip,{id:"flag-button."+this.props.code},this.props.label);try{e=n(28435)("./"+this.props.code+".png")}catch(t){e=null}return e?r().createElement(u.Z,{key:"overlay-"+this.props.code,overlay:t,placement:this.props.tooltipPlacement},this.props.componentAsButton?r().createElement(m.Z,{key:this.props.code,onClick:this.launchFlagAction.bind(this,this.props.code),active:this.props.active},r().createElement("img",{src:e,alt:this.props.label})):r().createElement("span",{className:"lang-button"},r().createElement("img",{src:e,alt:this.props.label}))):null}}d(g,"propTypes",{id:i().string,lang:i().string,code:i().string,active:i().bool,label:i().string,description:i().string,onFlagSelected:i().func,tooltipPlacement:i().string,componentAsButton:i().bool}),d(g,"defaultProps",{componentAsButton:!0,locales:(0,c.w8)(),code:"en-US",onLanguageChange:function(){},onFlagSelected:()=>{},tooltipPlacement:"bottom"});const b=g;function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends r().Component{render(){const e=(0,c.w8)(),t=p()(Object.keys(e).filter((t=>e[t].code===this.props.currentLocale)));return this.props.dropdown?r().createElement("div",{className:this.props.className},r().createElement(l.DropdownButton,{pullRight:!0,id:this.props.id,title:r().createElement(b,{componentAsButton:!1,key:t,code:this.props.currentLocale,label:e[t]&&e[t].description,lang:t})},Object.keys(e).filter((t=>e[t].code!==this.props.currentLocale)).map((t=>r().createElement(l.MenuItem,{key:t,eventKey:t,onClick:()=>this.props.onLanguageChange(e[t].code)},r().createElement(b,{componentAsButton:!1,key:t,code:e[t].code,label:e[t].description,lang:t,active:e[t].code===this.props.currentLocale})," "+e[t].description))))):r().createElement(l.ButtonGroup,{id:this.props.id,type:"select",bsSize:"small"},Object.keys(e).map((t=>r().createElement(b,{key:t,code:e[t].code,label:e[t].description,lang:t,active:e[t].code===this.props.currentLocale,onFlagSelected:this.props.onLanguageChange}))))}}h(y,"propTypes",{id:i().string,className:i().string,locales:i().object,currentLocale:i().string,onLanguageChange:i().func,dropdown:i().bool}),h(y,"defaultProps",{id:"mapstore-langselector",className:"mapstore-langselector",locales:{},currentLocale:"en-US",onLanguageChange:function(){},dropdown:!0});const f=y},481063:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var o=n(45697),r=n.n(o),s=n(124852),i=n.n(s),l=n(727418),a=n.n(l);function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i().Component{constructor(){super(...arguments),p(this,"getStyle",(()=>{var e={cursor:this.props.disabled?"not-allowed":"pointer",margin:0,padding:0,display:"inline-block"};return this.props.image?a()(e,{overflow:"hidden"}):a()(e,{height:"48px",width:"48px",border:"1px solid grey",borderRadius:"4px",backgroundColor:"rgb(250, 250, 250)"}),a()(e,this.props.style),e}))}render(){return i().createElement("img",{className:this.props.className,id:this.props.id,title:this.props.tooltip,style:this.getStyle(),src:this.props.image,onClick:this.props.disabled?null:this.props.onClick})}}p(c,"propTypes",{id:r().string,image:r().string,onClick:r().func,style:r().object,disabled:r().bool,tooltip:r().string,className:r().string}),p(c,"defaultProps",{disabled:!1,tooltip:null,className:void 0});const u=c},787603:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>z});var o=n(893379),r=n.n(o),s=n(73710);r()(s.Z,{insert:"head",singleton:!1}),s.Z.locals;var i=n(727418),l=n.n(i),a=n(45697),p=n.n(a),c=n(124852),u=n.n(c),m=n(984596),d=n.n(m),g=n(630294),b=n(171703),h=n(21090),y=n(687753),f=n(682465),v=n(555735),E=n(401811),w=n(481063),P=n(23888);function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},S.apply(this,arguments)}function k(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends u().Component{constructor(){super(...arguments),k(this,"getNormalButtons",(()=>{let e=u().createElement(g.Tooltip,{id:"undo-btn"},this.props.undoBtnProps.label),t=u().createElement(g.Tooltip,{id:"redo-btn"},this.props.redoBtnProps.label);return u().createElement(g.ButtonGroup,{id:this.props.id,bsSize:"small"},u().createElement(E.Z,{placement:"left",key:"overlay-undo-btn",overlay:e},u().createElement(P.Z,S({bsStyle:"default"},this.props.undoBtnProps,{id:"undo-btn",key:"undo-btn"}),u().createElement(g.Glyphicon,{glyph:"step-backward"}))),u().createElement(E.Z,{key:"overlay-redo-btn",overlay:t},u().createElement(P.Z,S({bsStyle:"default"},this.props.redoBtnProps,{id:"redo-btn",key:"redo-btn"}),u().createElement(g.Glyphicon,{glyph:"step-forward"}))))})),k(this,"getImageButtons",(()=>u().createElement("span",{id:this.props.id,style:{margin:0,pading:0}},u().createElement(w.Z,this.props.undoBtnProps),u().createElement(w.Z,this.props.redoBtnProps))))}render(){return"normal"===this.props.btnType?this.getNormalButtons():this.getImageButtons()}}k(C,"propTypes",{id:p().string,undoBtnProps:p().object,redoBtnProps:p().object,btnType:p().oneOf(["normal","image"])}),k(C,"defaultProps",{id:"mapstore-historybar",undoBtnProps:{onClick:function(){}},redoBtnProps:{onClick:function(){},label:""},btnType:"normal"});const j=C;var B=n(590504),x=n(719648),T=n(488400);function N(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Z extends u().Component{render(){return u().createElement("div",{style:this.props.style},this.props.children)}}N(Z,"propTypes",{isPanel:p().bool,buttonTooltip:p().oneOfType([p().string,p().element]),style:p().object}),N(Z,"defaultProps",{isPanel:!0,icon:u().createElement(g.Glyphicon,{glyph:"cog"}),style:{width:"300px"}});const O=Z;function G(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const L=(0,b.connect)((e=>({currentLocale:e.locale&&e.locale.current})),{onLanguageChange:f.HO.bind(null,null)})(v.Z),{undo:I,redo:F}=h.zF;class A extends u().Component{constructor(){super(...arguments),G(this,"renderSettings",(()=>{const e={language:u().createElement("span",{key:"language-label"},u().createElement(g.FormGroup,null,u().createElement(g.Row,null,u().createElement(g.Col,{xs:12},u().createElement("label",null,u().createElement(T.Z,{msgId:"language"})))),u().createElement(g.Row,null,u().createElement(g.Col,{xs:12},u().createElement(L,{dropdown:!1,locales:(0,x.w8)(),key:"langSelector"})))))},t={history:u().createElement(j,{key:"history",undoBtnProps:{onClick:this.props.undo,label:u().createElement(T.Z,{msgId:"history.undoBtnTooltip"}),disabled:!(this.props.mapHistory.past.length>0)},redoBtnProps:{onClick:this.props.redo,label:u().createElement(T.Z,{msgId:"history.redoBtnTooltip"}),disabled:!(this.props.mapHistory.future.length>0)}})};return Object.keys(e).filter(this.isEnabled).map((t=>e[t])).concat(this.props.items.map((e=>d()(e.tool).map(((t,n)=>(0,c.cloneElement)(t,{...e.cfg,key:`${e.name}-${n}`})))))).concat(Object.keys(t).filter(this.isEnabled).map((e=>t[e])))})),G(this,"isEnabled",(e=>l()({},this.props.settings,this.props.overrideSettings)[e]))}render(){const e=u().createElement(O,{key:"SettingsPanel",role:"body",style:this.props.style},this.renderSettings());return this.props.wrap?this.props.visible?this.props.wrapWithPanel?u().createElement(g.Panel,{id:this.props.id,header:u().createElement("span",null,u().createElement("span",{className:"settings-panel-title"},u().createElement(T.Z,{msgId:"settings"})),u().createElement("span",{className:"settings-panel-close panel-close",onClick:this.props.toggleControl})),style:this.props.panelStyle,className:this.props.panelClassName},e):u().createElement(B.Z,{id:this.props.id,style:{...this.props.panelStyle,display:this.props.visible?"block":"none"},className:this.props.panelClassName,draggable:!1,modal:!0},u().createElement("span",{role:"header"},u().createElement("span",{className:"settings-panel-title"},u().createElement(T.Z,{msgId:"settings"})),u().createElement("button",{onClick:this.props.toggleControl,className:"settings-panel-close close"},this.props.closeGlyph?u().createElement(g.Glyphicon,{glyph:this.props.closeGlyph}):u().createElement("span",null,"×"))),e):null:e}}G(A,"propTypes",{id:p().string,undo:p().func,redo:p().func,mapHistory:p().object,settings:p().object,overrideSettings:p().object,items:p().array,style:p().object,wrap:p().bool,wrapWithPanel:p().bool,panelStyle:p().object,panelClassName:p().string,visible:p().bool,toggleControl:p().func,closeGlyph:p().string}),G(A,"defaultProps",{id:"mapstore-settings",settings:{language:!0,history:!0},overrideSettings:{history:!1},items:[],style:{width:"300px"},wrap:!1,wrapWithPanel:!1,panelStyle:{minWidth:"300px",zIndex:1996,position:"absolute",overflow:"visible",top:"90px",left:"calc(50% - 150px)",backgroundColor:"white"},panelClassName:"toolbar-panel",visible:!1,toggleControl:()=>{},closeGlyph:"1-close"});const H=(0,b.connect)((e=>({mapHistory:e.map&&e.map.past&&{past:e.map.past,future:e.map.future}||{past:[],future:[]},visible:e.controls&&e.controls.settings&&e.controls.settings.enabled||!1,settings:{language:!!e.locale,history:!(!e.map||!e.map.history)}})),{undo:I,redo:F,toggleControl:y.Xi.bind(null,"settings",null)})(A),z={SettingsPlugin:l()(H,{Toolbar:{name:"settings",position:100,tooltip:"settings",help:u().createElement(T.Z,{msgId:"helptexts.settingsPanel"}),icon:u().createElement(g.Glyphicon,{glyph:"cog"}),panel:!0,wrap:!0,exclusive:!0,priority:1},DrawerMenu:{name:"settings",position:3,title:"settings",priority:2},BurgerMenu:{name:"settings",position:100,text:u().createElement(T.Z,{msgId:"settings"}),tooltip:"settingsTooltip",icon:u().createElement(g.Glyphicon,{glyph:"cog"}),action:y.Xi.bind(null,"settings",null),priority:4,doNotHide:!0},SidebarMenu:{name:"settings",position:100,tooltip:"settingsTooltip",text:u().createElement(T.Z,{msgId:"settings"}),icon:u().createElement(g.Glyphicon,{glyph:"cog"}),toggle:!0,action:y.Xi.bind(null,"settings",null),priority:3,doNotHide:!0}}),reducers:{}}},73710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n(923645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,"\n.ms2 #mapstore-settings .btn-group {\n    width: auto;\n}\n\n.ms2 #mapstore-settings .modal-body #mapstore-mousepositionsettings button {\n    float: none;\n    margin-left: 40%;\n}\n\n.ms2 #mapstore-settings .modal-body #mapstore-mousepositionsettings select {\n    float: none;\n    margin-left: 40%;\n}\n\n.ms2 #mapstore-settings .modal-body .form-group {\n    margin-top: 15px;\n    border-top: solid 1px #EEE;\n    padding-top: 10px;\n}\n",""]);const s=r}}]);