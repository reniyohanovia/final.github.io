(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[3507],{267152:(e,o,t)=>{"use strict";t.d(o,{D:()=>C,Z:()=>P});var n=t(124852),s=t.n(n),r=t(23888),a=t(45697),i=t.n(a),l=t(630294),p=t(401811),c=t(804504),m=t(283604),h=t(227361),g=t.n(h),d=t(478718),u=t.n(d),y=t(234228);function b(){return b=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},b.apply(this,arguments)}function v(e,o,t){return(o=function(e){var o=function(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}const C=()=>{const e=y.ZP.getConfigProp("miscSettings");return g()(e,["homePath"],"/")};class f extends s().Component{constructor(){super(...arguments),v(this,"checkUnsavedChanges",(()=>{this.props.renderUnsavedMapChangesDialog?this.props.onCheckMapChanges(this.goHome):(this.props.onCloseUnsavedDialog(),this.goHome())})),v(this,"goHome",(()=>{this.context.router.history.push(C())}))}render(){const{tooltipPosition:e,hidden:o,...t}=this.props;let n=s().createElement(l.Tooltip,{id:"toolbar-home-button"},s().createElement(c.Z,{msgId:"gohome"}));return!o&&s().createElement(s().Fragment,null,s().createElement(p.Z,{overlay:n,placement:e},s().createElement(r.Z,b({id:"home-button",className:"square-button",bsStyle:this.props.bsStyle,onClick:this.checkUnsavedChanges,tooltip:n},u()(t,["disabled","active","block","componentClass","href","children","icon","bsStyle","className"])),s().createElement(l.Glyphicon,{glyph:this.props.icon}))),s().createElement(m.Z,{ref:"unsavedMapModal",show:this.props.displayUnsavedDialog||!1,onClose:this.props.onCloseUnsavedDialog,title:s().createElement(c.Z,{msgId:"resources.maps.unsavedMapConfirmTitle"}),buttons:[{bsStyle:"primary",text:s().createElement(c.Z,{msgId:"resources.maps.unsavedMapConfirmButtonText"}),onClick:this.goHome},{text:s().createElement(c.Z,{msgId:"resources.maps.unsavedMapCancelButtonText"}),onClick:this.props.onCloseUnsavedDialog}],fitContent:!0},s().createElement("div",{className:"ms-detail-body"},s().createElement(c.Z,{msgId:"resources.maps.unsavedMapConfirmMessage"}))))}}v(f,"propTypes",{icon:i().string,onCheckMapChanges:i().func,onCloseUnsavedDialog:i().func,displayUnsavedDialog:i().bool,renderUnsavedMapChangesDialog:i().bool,tooltipPosition:i().string,bsStyle:i().string,hidden:i().bool}),v(f,"contextTypes",{router:i().object,messages:i().object}),v(f,"defaultProps",{icon:"home",onCheckMapChanges:()=>{},onCloseUnsavedDialog:()=>{},renderUnsavedMapChangesDialog:!0,tooltipPosition:"left",bsStyle:"primary",hidden:!1});const P=f},561253:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>f});var n=t(124852),s=t.n(n),r=t(727418),a=t.n(r);function i(e,o){return o&&o.history.push(e),{type:"GO_TO_PAGE",page:e}}var l=t(409442),p=t(488400),c=t(630294),m=t(267152),h=t(171703),g=t(507633),d=t(687753),u=t(119008),y=t(943476),b=t(234228),v=t(652700);const C=(0,h.connect)((e=>({renderUnsavedMapChangesDialog:b.ZP.getConfigProp("unsavedMapChangesDialog"),displayUnsavedDialog:(0,u.Eg)(e)&&"gohome"===(0,u.nS)(e)&&("viewer"===(0,y.I)(e).currentPage||"geostory"===(0,y.I)(e).currentPage||"dashboard"===(0,y.I)(e).currentPage)})),{onCheckMapChanges:e=>o=>{o((0,g.e)(e,"gohome"))},onCloseUnsavedDialog:d.Xg.bind(null,"unsavedMap","enabled",!1)})(m.Z),f={HomePlugin:a()(C,{Toolbar:{name:"home",position:1,tooltip:"gohome",icon:s().createElement(c.Glyphicon,{glyph:"home"}),help:s().createElement(p.Z,{msgId:"helptexts.gohome"}),action:e=>i((0,m.D)(),e.router),priority:1},BurgerMenu:{name:"home",position:1,text:s().createElement(p.Z,{msgId:"gohome"}),icon:s().createElement(c.Glyphicon,{glyph:"home"}),action:e=>i((0,m.D)(),e.router),priority:2},OmniBar:{name:"home",position:4,tool:(0,h.connect)((e=>({hidden:(0,v.z)(e),bsStyle:"primary",tooltipPosition:"bottom"})))(C),priority:3},SidebarMenu:{name:"home",position:1,tool:(0,h.connect)((()=>({bsStyle:"tray",tooltipPosition:"left",text:s().createElement(p.Z,{msgId:"gohome"})})))(C),selector:e=>({style:{display:(0,u.$)(e)?"none":null}}),priority:3}}),reducers:{},epics:{comparePendingChanges:l.c}}}}]);