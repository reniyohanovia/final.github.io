(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[2251],{768977:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(45697),i=n.n(r),o=n(124852),s=n.n(o),l=n(630294),a=n(222777);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends s().Component{render(){const{cardComponent:e,items:t,colProps:n,onItemClick:r,size:i}=this.props,o=e||a.Z;return s().createElement("div",{className:"msSideGrid"+(this.props.className?" "+this.props.className:"")},s().createElement(l.Row,{className:"items-list"},t.map(((e,t)=>s().createElement(l.Col,c({key:e.id||t},n),s().createElement(o,c({onClick:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return r(e,...n)},size:i},e)))))))}}p(u,"propTypes",{size:i().string,onItemClick:i().func,colProps:i().object,items:i().array,cardComponent:i().oneOfType([i().string,i().func]),className:i().string}),p(u,"defaultProps",{size:"",onItemClick:()=>{},colProps:{xs:12},className:"",items:[]});const m=u},246213:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>q});var r={};n.r(r),n.d(r,{openUserExtensionsEpic:()=>F});var i=n(124852),o=n.n(i),s=n(45697),l=n.n(s),a=n(171703),c=n(22222),p=n(227361),u=n.n(p),m=n(630294),d=n(804504),f=n(867076),g=n(744291),y=n(27908),v=n(756435),b=n(768977),h=n(603754),E=n(8204),x=n(141919),C=n(486234),S=n(313311),P=n.n(S),k=n(478718),Z=n.n(k),w=n(49977),I=n.n(w),N=n(554155),O=n(834650);const T=(0,C.Z)("filterPlaceholder")(h.Z),j=(0,x.Z)((e=>{let{filteredItems:t,filterText:n}=e;return n&&0===t.length}),{glyph:"filter",title:o().createElement(d.Z,{msgId:"userExtensions.emptyTitle"}),description:o().createElement(d.Z,{msgId:"userExtensions.emptyDescription"})})((e=>{let{filteredItems:t,onSelect:n}=e;return o().createElement(b.Z,{className:"user-extensions",size:"sm",items:t.map((e=>({preview:o().createElement("div",{style:{position:"relative",width:"100%",height:"100%",backgroundColor:e.active?"transparent":"#ddd",display:"flex"}},o().createElement(m.Glyphicon,{glyph:e.glyph||"plug",style:{fontSize:26,margin:"auto",color:"#ffffff"}})),title:e.title||e.name,description:e.description,selected:e.active,loading:e.loading,onClick:()=>n(e),tools:o().createElement(E.Z,{btnDefaultProps:{className:"square-button-md no-border"},buttons:[{glyph:e.active?"plug":"unplug",bsStyle:e.active?"primary":"default",tooltipId:e.active?"userExtensions.removeExtension":"userExtensions.addExtension",onClick:t=>{t.stopPropagation(),n(e)}}]})})))})})),z=(0,f.compose)((0,a.connect)((0,c.P1)(y.hZ,(e=>({extensions:e}))),{onSelect:e=>(0,g.s)(e.name,{active:!e.active})}),(0,f.compose)((0,f.mapPropsStream)((e=>e.combineLatest(I().Observable.defer((()=>(0,O.Z)(undefined))).map((e=>({pluginsConfig:e,loading:!1}))).catch((e=>I().Observable.of({loading:!1,pluginsLoadError:e}))).startWith({loading:!0}),((e,t)=>({...e,...t}))))),(0,f.withPropsOnChange)(["pluginsConfig","extensions"],(e=>{let{extensions:t=[],pluginsConfig:n={plugins:[]}}=e;return{extensions:t.map((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Z()(P()(n.plugins,{name:e.name}),["title","description","glyph"])||{};return{...e,...t}}))}})),(0,N.Z)()),(0,C.Z)("extensions","title"),(0,C.Z)("extensions","description"),(0,f.withState)("filterText","onFilter"))((e=>{let{filterText:t,onFilter:n,extensions:r=[],onSelect:i=(()=>{})}=e;const s=r.filter((e=>!t||t&&((e,t)=>["name","title","description"].map((e=>t[e])).map((function(){return-1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase().indexOf(e.toLowerCase())})).reduce(((e,t)=>e||t),!1))(t,e)));return o().createElement(v.Z,{header:o().createElement("div",{style:{padding:"8px 15px"}},o().createElement(T,{filterPlaceholder:"userExtensions.filterPlaceholder",filterText:t,onFilter:n}))},o().createElement(j,{filterText:t,filteredItems:s,onSelect:i}))}));var G=n(152543),L=n(687753),M=n(917450);const F=(e,t)=>e.ofType(L.At,L.kM).filter((e=>{return"userExtensions"===e.control&&(n=t.getState(),u()(n,"controls.userExtensions.enabled"));var n})).switchMap((()=>w.Observable.of((0,M.g)(),(0,M.aN)())));var X=n(350126),A=n(908316);function D(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class H extends o().Component{render(){let{active:e,onClose:t,dockStyle:n,size:r}=this.props;return o().createElement(A.Z,{containerStyle:this.props.dockStyle,containerId:"user-extensions-container",containerClassName:"dock-container",open:e,size:r,position:"right",bsStyle:"primary",title:o().createElement(d.Z,{msgId:"userExtensions.title"}),onClose:()=>t(),glyph:"plug",style:n},o().createElement(z,null))}}D(H,"propTypes",{active:l().bool,onClose:l().func,dockStyle:l().object,size:l().number}),D(H,"defaultProps",{active:!1,onClose:()=>{},dockStyle:{},size:550});const U=(0,a.connect)((0,c.P1)((e=>u()(e,"controls.userExtensions.enabled")),(e=>(0,X.ic)(e,{height:!0,right:!0},!0)),((e,t)=>({active:e,dockStyle:t}))),{onClose:L.Xi.bind(null,"userExtensions","enabled")})(H),q=(0,G.rx)("UserExtensions",{component:U,containers:{BurgerMenu:{name:"userExtensions",position:999,text:o().createElement(d.Z,{msgId:"userExtensions.title"}),icon:o().createElement(m.Glyphicon,{glyph:"plug"}),action:L.Xg.bind(null,"userExtensions","enabled",!0,!0),priority:2,doNotHide:!0},SidebarMenu:{name:"userExtensions",position:999,tooltip:"userExtensions.title",icon:o().createElement(m.Glyphicon,{glyph:"plug"}),text:o().createElement(d.Z,{msgId:"userExtensions.title"}),action:L.Xg.bind(null,"userExtensions","enabled",!0,!0),priority:1,doNotHide:!0,toggle:!0}},epics:r})}}]);