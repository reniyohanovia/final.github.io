(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[7709],{902746:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>j});var s=a(49977),r=a.n(s),l=a(227361),i=a.n(l),n=a(91175),o=a.n(n),c=a(701469),y=a.n(c),d=a(941106),u=a.n(d),m=a(545578),b=a.n(m),p=a(504518),g=a(333101),f=a(403410),S=a(16075),v=a(943650),h=a(687753),E=a(399790),O=a(546243),w=a(860294),N=a(470509),T=a.n(N),U=a(984596),I=a.n(U),$=a(644825);const M=function(e,t,a){let s=e+"layers/"+t+".json";return T().get(s,a).then((e=>e.data&&e.data.layer))},x=e=>{let{baseUrl:t,layerName:a,styles:s=[],options:r={}}=e;const{name:l,workspace:i}=(0,$.$N)(a),n=`${t}rest/${i&&`workspaces/${i}/`||""}layers/${l}.json`;return T().get(n,r).then((e=>{let{data:t}=e;const a=t.layer||{},r=a.styles&&a.styles.style&&I()(a.styles.style)||[],l=s.map((e=>{let{name:t}=e;return t})),i=r.filter((e=>{let{name:t}=e;return-1===l.indexOf(t)}));return{layer:{...a,styles:{"@class":"linked-hash-set",style:i}}}})).then((e=>T().put(n,e).then((()=>e))))},W=e=>{let{baseUrl:t,layerName:a,styles:s=[],options:r={}}=e;const{name:l,workspace:i}=(0,$.$N)(a),n=`${t}rest/${i&&`workspaces/${i}/`||""}layers/${l}.json`;return T().get(n,r).then((e=>{let{data:t}=e;const a=t.layer||{},r=a.styles&&a.styles.style&&I()(a.styles.style)||[];return{layer:{...a,styles:{"@class":"linked-hash-set",style:[...r,...s]}}}})).then((e=>T().put(n,e).then((()=>e))))},D=e=>{let{baseUrl:t,layerName:a,styleName:s,options:r={}}=e;const{name:l,workspace:i}=(0,$.$N)(a),n=`${t}rest/${i&&`workspaces/${i}/`||""}layers/${l}.json`;return T().get(n,r).then((e=>{let{data:t}=e;const a=t.layer||{},r=a.styles&&a.styles.style&&I()(a.styles.style)||[],l=a.defaultStyle||{},i=b()([l,...r],"name");return{layer:{...a,defaultStyle:{name:s},styles:{"@class":"linked-hash-set",style:i}}}})).then((e=>T().put(n,e).then((()=>e))))};var k=a(703011),C=a(612912),V=a(119008),Z=a(811408);const A=e=>{let{status:t,styleName:a,baseUrl:s}=e;return"edit"===t?r().Observable.defer((()=>w.ZP.getStyleCodeByName({baseUrl:s,styleName:a}).then((e=>(0,$.co)(e).then((t=>[e,t])).catch((()=>[e,!1])))))).switchMap((e=>{let[t,a]=e;return r().Observable.of((0,O.FU)({languageVersion:t.languageVersion,code:t.code,templateId:"",format:t.format,init:!0}),(0,O.bB)(a?{editorType:"textarea",styleJSON:null}:{editorType:t?.metadata?.msEditorType||"textarea",styleJSON:t?.metadata?.msStyleJSON}))})).catch((e=>r().Observable.of((0,O.Fe)("edit",e)))):r().Observable.empty()},P=e=>{let{styleName:t,baseUrl:a,onSuccess$:s,onError$:l}=e;return r().Observable.defer((()=>w.ZP.deleteStyle({baseUrl:a,styleName:t}))).switchMap((()=>s||r().Observable.empty())).catch((()=>l||r().Observable.empty()))},F=function(e){let{baseUrl:t,update:a,code:s,format:l,styleName:i,status:n,languageVersion:o,options:c}=e,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return r().Observable.defer((()=>w.ZP[a?"updateStyle":"createStyle"]({baseUrl:t,code:s,format:l,styleName:i,languageVersion:o,options:c}))).switchMap((()=>y()(d)&&r().Observable.of((0,O.Wm)(),...d)||d)).catch((e=>r().Observable.of((0,O.Fe)(n,e),(0,O.Wm)(),...u))).startWith((0,O.pt)(n))};function L(e,t){return!t&&e.availableStyles?r().Observable.of((0,g.Xy)({availableStyles:e.availableStyles}),(0,O.Wm)()):(0,v.kB)(e).switchMap((t=>{const a=(0,E.IA)(t);return a.availableStyles?r().Observable.of((0,g.Xy)({availableStyles:a.availableStyles}),(0,g.tV)(e.id,"layer",{...a}),(0,O.Wm)()):r().Observable.of((0,O.Fe)("availableStyles",{status:401}),(0,O.Wm)())})).catch((e=>{const t=-1!==e.message.indexOf("could not be unmarshalled")?"parsingCapabilities":"global";return r().Observable.of((0,O.Fe)(t,e),(0,O.Wm)())})).startWith((0,O.pt)("global"))}function R(e){return a.e(2568).then(a.t.bind(a,402568,23)).then((t=>(0,t.default)(e)))}const j={toggleStyleEditorEpic:(e,t)=>e.ofType(O.vZ).filter((()=>!(0,k.aN)(t.getState()))).switchMap((e=>{const a=t.getState(),s=(0,C.jN)(a),l=!!i()(s,"options.availableStyles");if(!e.enabled)return(e=>{const t=(0,k.gc)(e),{baseUrl:a=""}=(0,k.Z0)(e);return r().Observable.of((0,O.l1)(),(0,f.fU)({owner:$.s1})).merge(t?P({styleName:t,baseUrl:a}):r().Observable.empty())})(a);if((0,k.ji)(a)&&l)return r().Observable.empty();const n=e.layer||(0,C.Iz)(a);if(!n||n&&!n.url)return r().Observable.empty();const o=(0,E.Nd)(n);if(!o)return L(n);const c=`${n.url.split(o)[0]}${o}`,y=(0,k.Z0)(a);return r().Observable.concat(r().Observable.of((0,O.pt)("global"),(0,O.l1)()),r().Observable.defer((()=>(0,Z.eb)({baseUrl:c,styleService:y}))).switchMap((e=>r().Observable.concat(r().Observable.of((0,O.E0)(e)),r().Observable.defer((()=>M(c+"rest/",n.name))).switchMap((e=>{const t=e?.styles?.style||[],a=b()([e.defaultStyle,...t],"name");return 0===a.length?r().Observable.of((0,O.Fe)("availableStyles",{status:401}),(0,O.Wm)()):r().Observable.defer((()=>Promise.all([w.ZP.getStylesInfo({baseUrl:c,styles:a}),(0,v.kB)(n).toPromise().then((e=>e)).catch((()=>null))]))).switchMap((e=>{let[t,a]=e;const s=a&&(0,E.IA)(a),l=(s?.availableStyles||[]).map((e=>({...e,...(0,$.$N)(e.name)}))).filter((function(){let{name:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e})),i=l.length>0?t.map((e=>{const t=(0,$.$N)(e.name),{name:a,workspace:s,...r}=l.find((e=>e.name===t.name))||{};return r?{...r,...e}:e})):t;return r().Observable.of((0,f.W)(n.id,$.s1,"override",{}),(0,g.Xy)({availableStyles:i}),(0,g.tV)(n.id,"layer",{availableStyles:i}),(0,O.Wm)())}))})).catch((()=>L(n,!0)))))))})),updateLayerOnStatusChangeEpic:(e,t)=>e.ofType(O.g$).filter((e=>{let{status:t}=e;return!!t})).switchMap((a=>{const s=t.getState(),l=(0,k.Vf)(s),i=l&&l.params||{},n=l&&!l.describeFeatureType&&(0,S.H)(l.url,l,{query:i}),o=(0,k.i7)(s)||l.availableStyles&&l.availableStyles[0]&&l.availableStyles[0].name,{baseUrl:c=""}=(0,k.Z0)(s);return n&&function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};return r().Observable.of((0,O.pt)("global"),...s).merge(e.ofType(g.K$).filter((()=>{const e=(0,C.Iz)(t.getState());return a(e)})).switchMap((()=>{const e=(0,C.Iz)(t.getState());return l(e)})).catch((e=>r().Observable.of((0,O.Fe)("global",e),(0,O.Wm)()))).takeUntil(e.ofType(O.E2)))}(e,t,(e=>e&&e.describeLayer),[n],(e=>r().Observable.concat(A({status:a.status,styleName:o,baseUrl:c}),r().Observable.of((0,O.xR)(!(e&&e.describeLayer&&401===e.describeLayer.error)),(0,O.Wm)()))))||A({status:a.status,styleName:o,baseUrl:c})})),updateTemporaryStyleEpic:(e,t)=>e.ofType(O.TB,O.DX).switchMap((e=>{const a=t.getState(),s=(0,k.gc)(a),r=(0,k.Vf)(a),{workspace:l}=(0,$.$N)(r.name),i=e.format&&e.format!==(0,k.iB)(a),n=s||`${l?`${l}:`:""}${(0,$.Vi)()}`,o=e.format||(0,k.iB)(a),c=(0,k.ex)(a),{baseUrl:y=""}=(0,k.Z0)(a),d=(0,k.j5)(a),u="sld"===o&&(e.code||"").match(/version=\"1\.1\.0\"/)&&{version:"1.1.0"}||e.format&&!e.languageVersion&&{version:"1.0.0"}||e.languageVersion||{version:"1.0.0"},m=d.version!==u.version?{params:{raw:!0}}:{},b=u,g=t=>F({update:!0,code:e.code,format:o,styleName:t,status:c,baseUrl:y,languageVersion:b,options:m},[(0,f.B1)($.s1,[{style:t,_v_:Date.now(),singleTile:!0}]),(0,O.k5)({temporaryId:t,templateId:e.templateId||"",code:e.code,format:o,init:e.init,languageVersion:b})],"edit"===c?[]:[(0,p.vU)({title:"styleeditor.updateTmpErrorTitle",message:"styleeditor.updateTmpStyleErrorMessage",uid:"updateTmpStyleError",autoDismiss:5})]),S=("css"===o?"* { stroke: #888888; }":"sld"===o&&'<?xml version="1.0" encoding="ISO-8859-1"?>\n<StyledLayerDescriptor version="1.0.0"\n\t\txsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd"\n\t\txmlns="http://www.opengis.net/sld"\n\t\txmlns:ogc="http://www.opengis.net/ogc"\n\t\txmlns:xlink="http://www.w3.org/1999/xlink"\n\t\txmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n\n\t<NamedLayer>\n\t\t<Name>Default Style</Name>\n\t\t<UserStyle>\n\t\t\t<Title>${styleTitle}</Title>\n\t\t\t<Abstract>${styleAbstract}</Abstract>\n\t\t\t<FeatureTypeStyle>\n\t\t\t\t<Rule>\n\t\t\t\t\t<Name>Rule Name</Name>\n\t\t\t\t\t<Title>Rule Title</Title>\n\t\t\t\t\t<Abstract>Rule Abstract</Abstract>\n\t\t\t\t\t<LineSymbolizer>\n\t\t\t\t\t\t<Stroke>\n\t\t\t\t\t\t\t<CssParameter name="stroke">#0000FF</CssParameter>\n\t\t\t\t\t\t</Stroke>\n\t\t\t\t\t\t</LineSymbolizer>\n\t\t\t\t\t<PointSymbolizer>\n\t\t\t\t\t\t<Graphic>\n\t\t\t\t\t\t\t<Mark>\n\t\t\t\t\t\t\t\t<WellKnownName>square</WellKnownName>\n\t\t\t\t\t\t\t\t<Fill>\n\t\t\t\t\t\t\t\t\t<CssParameter name="fill">#FF0000</CssParameter>\n\t\t\t\t\t\t\t\t</Fill>\n\t\t\t\t\t\t\t</Mark>\n\t\t\t\t\t\t</Graphic>\n\t\t\t\t\t</PointSymbolizer>\n\t\t\t\t\t</Rule>\n\t\t\t\t</FeatureTypeStyle>\n\t\t\t</UserStyle>\n\t\t</NamedLayer>\n\t</StyledLayerDescriptor>\n')||"",v=e=>F({code:S,format:o,styleName:e,status:c,baseUrl:y},g(e),[(0,p.vU)({title:"styleeditor.createTmpErrorTitle",message:"styleeditor.createTmpStyleErrorMessage",uid:"createTmpStyleError",autoDismiss:5}),(0,O.k5)({temporaryId:null,templateId:"",code:"",format:"",init:"",languageVersion:null})]);return i&&s&&P({styleName:s,baseUrl:y,onSuccess$:v(`${l?`${l}:`:""}${(0,$.Vi)()}`),onError$:g(n)})||s&&g(n)||v(n)})),createStyleEpic:(e,t)=>e.ofType(O.vA).switchMap((e=>{const a=t.getState(),s=(0,k.gB)(a),l=(0,k.Vf)(a),{workspace:i}=(0,$.$N)(l.name),n=`${i?`${i}:`:""}${(0,$.nK)(e.settings)}`,c=(0,k.iB)(a),{title:y="",_abstract:d=""}=e.settings||{},{baseUrl:m=""}=(0,k.Z0)(a),b={title:y,description:d,msStyleJSON:null,msEditorType:"visual"},S=u()(s)({styleTitle:y,styleAbstract:d});return r().Observable.defer((()=>R(S).then((e=>w.ZP.createStyle({baseUrl:m,code:S,format:c,styleName:n,metadata:{...b,msMD5Hash:e}}))))).switchMap((()=>r().Observable.of((0,f.B1)($.s1,[{}]),(0,g.Xy)({style:n||""},!0),(0,O.Nf)(""),(0,O.Wm)()).merge((e=>{let{baseUrl:t,layer:a,styleName:s,format:l,title:i,_abstract:n,metadata:c}=e;return r().Observable.defer((()=>W({baseUrl:t,layerName:a.name,styles:[{name:s}]}))).switchMap((()=>{const e={filename:`${s}.${l}`,format:l,name:s,title:i,_abstract:n,...c&&{metadata:c}},t=o()(a.availableStyles),y=a.availableStyles&&[t,e,...a.availableStyles.filter(((e,t)=>t>0))]||[e];return r().Observable.of((0,g.Xy)({availableStyles:y},!0),(0,O.Wm)())})).catch((()=>r().Observable.of((0,O.Wm)()))).startWith((0,O.pt)("global"))})({layer:l,styleName:n,format:c,title:y,_abstract:d,baseUrl:m,metadata:b})))).catch((e=>r().Observable.of((0,O.Fe)("",e),(0,O.Wm)(),(0,p.vU)({title:"styleeditor.createStyleErrorTitle",message:"styleeditor.createStyleErrorMessage",uid:"createStyleError",autoDismiss:5})))).startWith((0,O.pt)(""))})),updateStyleCodeEpic:(e,t)=>e.ofType(O.ch).switchMap((()=>{const e=t.getState(),a=(0,k.iB)(e),s=(0,k.j5)(e),l=(0,k.gB)(e),i=(0,k.i7)(e),n=(0,k.gc)(e),o=(0,k.Vf)(e),{baseUrl:c=""}=(0,k.Z0)(e),y=(0,k.WW)(e)||{},d={msStyleJSON:y.styleJSON||null,msEditorType:y.editorType},u=(o.availableStyles||[]).map((e=>e.name===i?{...e,metadata:{...e.metadata,...d}}:e));return r().Observable.defer((()=>R(l).then((e=>w.ZP.updateStyle({baseUrl:c,code:l,format:a,styleName:i,languageVersion:s,options:{params:{raw:!0}},metadata:{...d,msMD5Hash:e}}))))).switchMap((()=>r().Observable.of((0,O.Wm)(),(0,g.tV)(o.id,"layer",{_v_:Date.now(),availableStyles:u}),(0,g.Xy)({availableStyles:u}),(0,O.k5)({temporaryId:n,templateId:"",code:l,format:a,init:!0,languageVersion:s}),(0,p.Vp)({title:"styleeditor.savedStyleTitle",message:"styleeditor.savedStyleMessage",uid:"savedStyleTitle",autoDismiss:5})))).catch((e=>r().Observable.of((0,O.Fe)("global",e),(0,O.Wm)(),(0,p.vU)({title:"styleeditor.updateStyleErrorTitle",message:"styleeditor.updateStyleErrorMessage",uid:"updateStyleError",autoDismiss:5})))).startWith((0,O.pt)("global"))})),deleteStyleEpic:(e,t)=>e.ofType(O.j1).filter((e=>{let{styleName:t}=e;return!!t})).switchMap((e=>{let{styleName:a}=e;const s=t.getState(),l=(0,k.Vf)(s),{baseUrl:i=""}=(0,k.Z0)(s),n=(0,V.tL)(s),o=(0,V.Gd)(s);return r().Observable.defer((()=>x({baseUrl:i,layerName:l.name,styles:[{name:a}]}))).switchMap((()=>{const e=l.availableStyles&&l.availableStyles.filter((e=>{let{name:t}=e;return t!==a}))||[];return r().Observable.concat(r().Observable.of((0,g.Xy)({style:"",availableStyles:e},!0),(0,O.Wm)(),(0,h.Xg)("layersettings","originalSettings",{...n,style:""}),(0,h.Xg)("layersettings","initialSettings",{...o,style:""})),P({styleName:a,baseUrl:i,onSuccess$:r().Observable.of((0,p.Vp)({title:"styleeditor.deletedStyleSuccessTitle",message:"styleeditor.deletedStyleSuccessMessage",uid:"deletedStyleSuccess",autoDismiss:5})),onError$:r().Observable.of((0,p.vU)({title:"styleeditor.deletedStyleErrorTitle",message:"styleeditor.deletedStyleErrorMessage",uid:"deletedStyleError",autoDismiss:5}))}))})).catch((()=>r().Observable.of((0,O.Wm)()))).startWith((()=>r().Observable.of((0,O.pt)("global"))))})),setDefaultStyleEpic:(e,t)=>e.ofType(O.rb).switchMap((()=>{const e=t.getState(),{baseUrl:a=""}=(0,k.Z0)(e),s=(0,k.Vf)(e),l=(0,k.i7)(e);return r().Observable.defer((()=>D({baseUrl:a,layerName:s.name,styleName:l}))).switchMap((()=>{const e=[...s.availableStyles.filter((e=>{let{name:t}=e;return l===t})),...s.availableStyles.filter((e=>{let{name:t}=e;return l!==t}))];return r().Observable.of((0,g.Xy)({availableStyles:e},!0),(0,p.Vp)({title:"styleeditor.setDefaultStyleSuccessTitle",message:"styleeditor.setDefaultStyleSuccessMessage",uid:"setDefaultStyleSuccess",autoDismiss:5}),(0,O.Wm)())})).startWith((0,O.pt)("global")).catch((()=>r().Observable.of((0,p.vU)({title:"styleeditor.setDefaultStyleErrorTitle",message:"styleeditor.setDefaultStyleErrorMessage",uid:"setDefaultStyleError",autoDismiss:5}),(0,O.Wm)())))}))}},995305:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var s=a(701469),r=a.n(s),l=a(747037),i=a.n(l),n=a(727418),o=a.n(n),c=a(45697),y=a.n(c),d=a(124852),u=a.n(d),m=a(171703),b=a(867076),p=a(22222),g=a(333101),f=a(546243),S=a(867517),v=a(756435),h=a(141919),E=a(554155),O=a(89518),w=a(510644),N=a(703011),T=a(644825),U=a(756311);function I(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var s=a.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class $ extends u().Component{UNSAFE_componentWillMount(){const e=!this.props.editingAllowedRoles||r()(this.props.editingAllowedRoles)&&i()(this.props.userRole)&&-1!==this.props.editingAllowedRoles.indexOf(this.props.userRole);this.props.onInit(this.props.styleService,e&&(0,T.uW)(this.props.layer,this.props.styleService))}render(){return u().createElement(v.Z,{className:"ms-style-editor-container",header:this.props.showToolbar?u().createElement("div",{className:"ms-style-editor-container-header"},this.props.header,u().createElement("div",{className:"text-center"},u().createElement(U.lC,{enableSetDefaultStyle:this.props.enableSetDefaultStyle}))):null,footer:u().createElement("div",{style:{height:25}})},this.props.isEditing?u().createElement(U.m2,{config:this.props.editorConfig}):u().createElement(U.tM,{showDefaultStyleIcon:this.props.canEdit&&this.props.enableSetDefaultStyle}))}}I($,"propTypes",{layer:y().object,header:y().node,isEditing:y().bool,showToolbar:y().node.bool,onInit:y().func,styleService:y().object,userRole:y().string,editingAllowedRoles:y().array,enableSetDefaultStyle:y().bool,canEdit:y().bool,editorConfig:y().object}),I($,"defaultProps",{layer:{},onInit:()=>{},editingAllowedRoles:["ADMIN"],editorConfig:{}});const M=(0,b.compose)(b.toClass,(0,b.branch)((function(){let{active:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!e}),(()=>()=>null)),(0,m.connect)((0,p.P1)([N.ex,N.aN,N.Vf,N.p,w.L3,N.z_,N.Z0],((e,t,a,s,r,l,i)=>({isEditing:"edit"===e,loading:t,layer:a,error:s,userRole:r,canEdit:l,styleService:i}))),{onInit:f.E0,onUpdateParams:g.Xy},((e,t,a)=>{const s=a.styleService?.baseUrl===e.styleService?.baseUrl&&e.styleService?.isStatic,r=a.styleService&&!s?{...a.styleService,isStatic:!0}:{...e.styleService};return{...a,...e,...t,styleService:r}})),(0,h.Z)((e=>{let{error:t}=e;return!!(t?.availableStyles||t?.global||t?.parsingCapabilities)}),(e=>{let{error:t}=e;return{glyph:"exclamation-mark",title:u().createElement(S.Z,{msgId:"styleeditor.errorTitle"}),description:u().createElement(S.Z,{msgId:(t?.availableStyles?"styleeditor.missingAvailableStylesMessage":t?.parsingCapabilities&&"styleeditor.parsingCapabilitiesError")||t?.global&&"styleeditor.globalError"}),style:{display:"flex",width:"100%",height:"100%",overflow:"hidden"},mainViewStyle:{margin:"auto",width:300}}})),(0,E.Z)((e=>{let{loading:t}=e;return"global"===t}),{size:150,style:{margin:"auto"}},(e=>u().createElement("div",{style:{position:"relative",height:"100%",display:"flex"}},u().createElement(O.Z,e)))),(0,b.compose)((0,m.connect)((()=>({})),{toggleStyleEditor:f.Wv}),(0,b.lifecycle)({componentDidMount(){this.props.toggleStyleEditor(null,!0)}})))($),x={StyleEditorPlugin:o()(M,{TOC:{priority:1,container:"TOCItemSettings"},TOCItemsSettings:{name:"StyleEditor",target:"style",priority:1,ToolbarComponent:U.lC}}),reducers:{styleeditor:a(703137).Z},epics:a(902746).ZP}},703137:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var s=a(546243),r=a(747037),l=a.n(r);const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.wL:return{...e,service:t.service,canEdit:t.canEdit};case s.Nm:return{...e,canEdit:t.canEdit};case s.gF:return{...e,temporaryId:t.temporaryId,templateId:t.templateId,code:t.code,format:t.format,error:null,languageVersion:t.languageVersion,initialCode:t.init?t.code:e.initialCode};case s.g$:return""===t.status?{...e,status:t.status,code:"",templateId:"",initialCode:"",addStyle:!1,error:{}}:{...e,status:t.status};case s.dJ:return{service:e.service&&{...e.service}||{},canEdit:e.canEdit,loading:e.loading};case s.uz:return{...e,addStyle:t.add};case s.lX:return{...e,loading:!t.status||t.status};case s.E2:return{...e,loading:!1,enabled:!0};case s.mF:{const a=t?.error?.statusText||t?.error?.message||"",s=l()(t?.error?.messageId)&&{messageId:t.error.messageId},r=a.match(/line\s([\d]+)|column\s([\d]+)|lineNumber:\s([\d]+)|columnNumber:\s([\d]+)/g),i=r&&2===r.length&&r.reduce(((e,t)=>{const a=t.split(" "),s=a[0].replace(/Number:/g,""),r=parseFloat(a[1]);return s&&!isNaN(r)&&{...e,[s]:r}||{...e}}),{message:a,...s})||{message:a,...s};return{...e,loading:!1,canEdit:!(t.error&&(401===t.error.status||403===t.error.status||t.error.message&&-1!==t.error.message.indexOf("could not be unmarshalled"))),error:{...e.error,[t.status||"global"]:{status:t.error&&t.error.status||400,...i}}}}case s.dk:return{...e,metadata:{...e.metadata,...t.metadata}};default:return e}}},135393:(e,t,a)=>{var s=a(62663),r=a(244600),l=a(158748),i=RegExp("['’]","g");e.exports=function(e){return function(t){return s(l(r(t).replace(i,"")),e,"")}}},869389:(e,t,a)=>{var s=a(618674)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});e.exports=s},968929:(e,t,a)=>{var s=a(548403),r=a(135393)((function(e,t,a){return t=t.toLowerCase(),e+(a?s(t):t)}));e.exports=r},244600:(e,t,a)=>{var s=a(869389),r=a(479833),l=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=r(e))&&e.replace(l,s).replace(i,"")}}}]);