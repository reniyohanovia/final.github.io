(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[9803],{103805:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>P});var r=o(171703);const i="SET_COOKIE_VISIBILITY",s="SET_MORE_DETAILS_VISIBILITY",n="SET_DETAILS_COOKIE_HTML";function l(e){return{type:i,status:e}}var c=o(45697),a=o.n(c),p=o(124852),m=o.n(p),u=o(630294),h=o(23888),k=o(804504);function d(e,t,o){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class y extends m().Component{render(){return m().createElement("div",{className:"cookie-seeMore",dangerouslySetInnerHTML:{__html:this.props.html}})}}d(y,"propTypes",{html:a().string}),d(y,"contextTypes",{}),d(y,"defaultProps",{});const b=y;var f=o(272124);function g(e,t,o){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class v extends m().Component{constructor(){super(...arguments),g(this,"renderAcceptButton",(()=>m().createElement(h.Z,{className:"cookie-button",id:"accept-cookie",bsStyle:"primary",onClick:()=>this.accept(!0)},m().createElement(k.Z,{msgId:"cookie.accept"})))),g(this,"renderMoreDetails",(()=>this.props.externalCookieUrl?m().createElement("a",{style:{cursor:"pointer"},id:"accept-cookie",href:this.props.externalCookieUrl},m().createElement(h.Z,{className:"cookie-button",id:"decline-cookie",bsStyle:"primary"},m().createElement(k.Z,{msgId:"cookie.moreDetailsButton"}))):m().createElement(h.Z,{onClick:()=>this.moreDetails(),className:"cookie-button",id:"decline-cookie",bsStyle:"primary"},m().createElement(k.Z,{msgId:"cookie.moreDetailsButton"})))),g(this,"renderLeaveButton",(()=>m().createElement("a",{href:this.props.declineUrl,target:"_self",style:{cursor:"pointer"}},m().createElement(h.Z,{className:"cookie-button",id:"decline-cookie",bsStyle:"primary"},m().createElement(k.Z,{msgId:"cookie.leave"}))))),g(this,"moreDetails",(()=>{this.props.onMoreDetails(!this.props.seeMore)})),g(this,"accept",(()=>{try{(0,f.ac)().setItem("cookies-policy-approved",!0)}catch(e){console.error(e)}this.props.onSetCookieVisibility(!1)}))}render(){return this.props.show?m().createElement("div",{className:this.props.seeMore?"mapstore-cookie-panel see-more":"mapstore-cookie-panel not-see-more"},m().createElement("div",{role:"header",className:"cookie-header",style:{height:this.props.seeMore?"44px":"0px"}},this.props.seeMore?m().createElement(u.Glyphicon,{className:"cookie-close-btn",glyph:"1-close",onClick:()=>this.props.onMoreDetails(!1)}):null),m().createElement("div",{role:"body",className:"cookie-body-container"},!this.props.externalCookieUrl&&this.props.seeMore?m().createElement(b,{html:this.props.html}):m().createElement("div",{className:"cookie-message"},m().createElement(k.Z,{msgId:"cookie.info"})),m().createElement("br",null),this.props.seeMore?null:m().createElement("div",{className:"cookie-action"},m().createElement(u.Col,{xs:6,sm:4,className:"action-button"},this.renderAcceptButton()),m().createElement(u.Col,{xs:6,sm:4,className:"action-button"},this.renderMoreDetails()),m().createElement(u.Col,{xs:6,sm:4,className:"action-button"},this.renderLeaveButton()),m().createElement(u.Col,{xs:12},m().createElement("br",null))))):null}}g(v,"propTypes",{declineUrl:a().string,externalCookieUrl:a().string,locale:a().string,onMoreDetails:a().func,onSetCookieVisibility:a().func,seeMore:a().bool,show:a().bool}),g(v,"contextTypes",{messages:a().object}),g(v,"defaultProps",{declineUrl:"http://www.google.com",onMoreDetails:()=>{},onSetCookieVisibility:()=>{},seeMore:!1,show:!1});const E=v;var C=o(275982),S=o(49977),M=o.n(S),I=o(682465),w=o(470509),T=o.n(w);const x={cookiePolicyChecker:e=>e.ofType(C.nk).take(1).filter((()=>{try{return!(0,f.ac)().getItem("cookies-policy-approved")}catch(e){return console.error(e),!1}})).switchMap((()=>M().Observable.of(l(!0)))),loadCookieDetailsPage:(e,t)=>e.ofType(s,I.IX).filter((()=>!(0,f.ac)().getItem("cookies-policy-approved")&&t.getState().cookie.seeMore&&!t.getState().cookie.html[t.getState().locale.current])).switchMap((()=>M().Observable.fromPromise(T().get("translations/fragments/cookie/cookieDetails-"+t.getState().locale.current+".html",null,{timeout:6e4,headers:{Accept:"text/html","Content-Type":"text/html"}}).then((e=>e.data))))).switchMap((e=>M().Observable.of(function(e,t){return{type:n,html:e,lang:t}}(e,t.getState().locale.current))))};var D=o(727418),N=o.n(D);const P={CookiePlugin:(0,r.connect)((e=>({show:e.cookie&&e.cookie.showCookiePanel,html:e.cookie&&e.cookie.html&&e.cookie.html[e.locale&&e.locale.current],seeMore:e.cookie&&e.cookie.seeMore})),{onSetCookieVisibility:l,onMoreDetails:function(e){return{type:s,status:e}}})(E),reducers:{cookie:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{html:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return N()({},e,{showCookiePanel:t.status});case s:return N()({},e,{seeMore:t.status});case n:return N()({},e,{html:{...e.html,[t.lang]:t.html}});default:return e}}},epics:x}}}]);