(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[3444],{422139:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>D});var o=n(893379),r=n.n(o),s=n(907535);r()(s.Z,{insert:"head",singleton:!1}),s.Z.locals;var i=n(365544),a=n.n(i),l=n(727418),p=n.n(l),d=n(45697),c=n.n(d),u=n(124852),h=n.n(u),m=n(630294),g=n(171703),b=n(22222),y=n(687753),v=n(859518),f=n(36549),w=n(350126),x=n(506806),C=n(401811),E=n(101706),k=n(804504),S=n(23888);function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},z.apply(this,arguments)}function N(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class M extends h().Component{constructor(){super(...arguments),N(this,"getWidth",(()=>this.props.dynamicWidth||this.props.width)),N(this,"renderChildren",((e,t)=>{const n={key:e.key?e.key:t,ref:e.ref,open:this.props.activeKey&&this.props.activeKey===e.props.eventKey},{glyph:o,icon:r,buttonConfig:s,...i}=e.props;return h().createElement(e.type,z({},n,i))})),N(this,"renderButtons",(()=>this.props.children.map((e=>{const t=h().createElement(S.Z,{key:e.props.eventKey,bsSize:"large",className:e.props.buttonConfig&&e.props.buttonConfig.buttonClassName?e.props.buttonConfig.buttonClassName:"square-button",onClick:this.props.onChoose.bind(null,e.props.eventKey,this.props.activeKey===e.props.eventKey),bsStyle:this.props.activeKey===e.props.eventKey?"default":"primary"},e.props.glyph?h().createElement(m.Glyphicon,{glyph:e.props.glyph}):e.props.icon);if(e.props.buttonConfig&&e.props.buttonConfig.tooltip){const n=h().createElement(m.Tooltip,{key:"tooltip."+e.props.eventKey,id:"tooltip."+e.props.eventKey},h().createElement(k.Z,{msgId:e.props.buttonConfig.tooltip}));return h().createElement(C.Z,{placement:"bottom",key:"overlay-trigger."+e.props.eventKey,overlay:n},t)}return t})))),N(this,"renderContent",(()=>{const e=this.props.single?h().createElement("div",{className:"navHeader",style:{width:"100%",minHeight:"35px"}},h().createElement(m.Glyphicon,{glyph:"1-close",className:"no-border btn-default",onClick:this.props.onToggle,style:{cursor:"pointer"}}),h().createElement("div",{className:"navButtons"},this.renderButtons())):h().createElement("div",{className:"navHeader",style:{width:"100%",minHeight:"35px"}},h().createElement("span",{className:"title"},this.props.title),h().createElement(m.Glyphicon,{glyph:"1-close",className:"no-border btn-default",onClick:this.props.onToggle,style:{cursor:"pointer"}})),t=h().createElement("div",{className:"nav-content"},e,h().createElement("div",{className:"nav-body"},this.props.children.filter((e=>!this.props.single||this.props.activeKey===e.props.eventKey)).map(this.renderChildren)));return this.props.resizable?h().createElement(E.Resizable,{axis:"x",resizeHandles:["e"],width:this.getWidth(),onResize:this.resize},t):t})),N(this,"resize",((e,t)=>{let{size:n}=t;this.props.onResize(n.width)}))}componentDidMount(){if(!this.props.overlapMap&&this.props.show){let e={left:this.props.width,width:`calc(100% - ${this.props.width}px)`};this.props.changeMapStyle(e,"drawerMenu")}}componentDidUpdate(e){if(!this.props.overlapMap&&e.show!==this.props.show){let e=this.props.show?{left:this.props.width,width:`calc(100% - ${this.props.width}px)`}:{};this.props.changeMapStyle(e,"drawerMenu")}}render(){return h().createElement(x.Z,{styles:{sidebar:{...this.props.layout,zIndex:1022,width:this.getWidth()},overlay:{zIndex:1021},root:{right:this.props.show?0:"auto",width:"0",overflow:"visible"},content:{overflowY:"auto"}},sidebarClassName:"nav-menu",onSetOpen:()=>{this.props.onToggle()},open:this.props.show,docked:this.props.docked,sidebar:this.renderContent()},h().createElement("div",null))}}N(M,"propTypes",{title:c().node,alignment:c().string,activeKey:c().string,docked:c().bool,show:c().bool,onToggle:c().func,onChoose:c().func,single:c().bool,width:c().number,dynamicWidth:c().number,overlapMap:c().bool,changeMapStyle:c().func,layout:c().object,resizable:c().bool,onResize:c().func}),N(M,"defaultProps",{docked:!1,single:!1,width:300,overlapMap:!0,layout:{},resizable:!1,onResize:()=>{}});const P=M;var H=n(697350);function K(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends h().Component{constructor(){super(...arguments),K(this,"onHeaderClick",(()=>{this.props.onHeaderClick(this.props.eventKey)})),K(this,"getHeight",(()=>this.props.open&&this.refs.sectionContent?this.refs.sectionContent.scrollHeight+10:"0"))}render(){var e={maxHeight:this.getHeight(),overflow:this.props.open?"auto":"hidden",padding:this.props.open?null:"0"};return h().createElement("div",{className:"section"},h().createElement("div",{className:"sectionHeader",style:{width:"100%"},onClick:this.onHeaderClick},this.props.renderInModal?null:h().createElement(m.Glyphicon,{glyph:"triangle-right",style:this.props.open?{transform:"rotate(90deg)"}:{}}),h().createElement("span",{className:this.headerClassName+" sectionTitle",ref:"sectionTitle"},this.props.header)),this.props.renderInModal?h().createElement(H.Z,{ref:"modal",show:this.props.open,onHide:this.onHeaderClick},h().createElement(H.Z.Header,{closeButton:!0},h().createElement(H.Z.Title,null,this.props.header)),h().createElement(H.Z.Body,null,this.props.children)):h().createElement("div",{ref:"sectionContent",className:"sectionContent",style:e},this.props.children))}}K(T,"displayName","Section"),K(T,"propTypes",{key:c().string,eventKey:c().string,headerClassName:c().string,open:c().bool,onHeaderClick:c().func,renderInModal:c().bool,header:c().node}),K(T,"defaultProps",{headerClassName:"panel-heading"});const j=T;var I=n(488400);function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},O.apply(this,arguments)}function Z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const B=(0,f.Z)(S.Z),W=(0,b.P1)([e=>e.controls.drawer&&e.controls.drawer.enabled,e=>e.controls.drawer&&e.controls.drawer.menu||"1",e=>e.controls.queryPanel&&e.controls.queryPanel.enabled&&e.controls.drawer&&e.controls.drawer.width||e.controls.drawer&&e.controls.drawer.resizedWidth||void 0,e=>(0,w.ic)(e,{height:!0})],((e,t,n,o)=>({show:e,activeKey:t,dynamicWidth:n,layout:o}))),R=(0,g.connect)(W,{onToggle:y.Xi.bind(null,"drawer",null),onResize:y.Xg.bind(null,"drawer","resizedWidth"),onChoose:a()(y.Xg.bind(null,"drawer","menu"),!0),changeMapStyle:v.hd})(P),q=(0,g.connect)((e=>({disabled:e.controls&&e.controls.drawer&&e.controls.drawer.disabled})),{toggleMenu:y.Xi.bind(null,"drawer",null)})((e=>{let{id:t="",menuButtonStyle:n={},buttonStyle:o="primary",buttonClassName:r="square-button ms-drawer-menu-button",toggleMenu:s=(()=>{}),disabled:i=!1,glyph:a="1-layer",tooltipId:l="toc.drawerButton",tooltipPosition:p="bottom"}=e;return h().createElement(B,{id:t,style:n,bsStyle:o,key:"menu-button",className:r,onClick:s,disabled:i,tooltipId:l,tooltipPosition:p},h().createElement(m.Glyphicon,{glyph:a}))}));class G extends h().Component{constructor(){super(...arguments),Z(this,"getTools",(()=>this.props.items.map(((e,t)=>p()({},e,{position:e.position||t}))).sort(((e,t)=>e.position-t.position)))),Z(this,"renderItems",(()=>this.getTools().map(((e,t)=>{const n=e.panel||e.plugin,o=h().createElement(n,O({isPanel:!0},e.cfg,{items:e.items||[],groupStyle:{style:{marginBottom:"0px",cursor:"pointer"}}})),r=e.title?h().createElement("div",{className:"drawer-menu-head drawer-menu-head-"+e.name},h().createElement(I.Z,{msgId:e.title})):null;return this.props.singleSection?h().createElement(m.Panel,{icon:e.icon,glyph:e.glyph,buttonConfig:e.buttonConfig,key:e.name,eventKey:t+1+"",header:r},o):h().createElement(j,{key:e.name,renderInModal:e.renderInModal||!1,eventKey:t+1+"",header:r},o)}))))}render(){return this.getTools().length>0?h().createElement("div",{id:this.props.id},h().createElement(q,O({},this.props,{id:"drawer-menu-button"})),h().createElement(R,O({single:this.props.singleSection},this.props.menuOptions,{title:h().createElement(I.Z,{msgId:"menu"}),alignment:"left"}),this.renderItems())):null}}Z(G,"propTypes",{items:c().array,active:c().string,toggleMenu:c().func,id:c().string,glyph:c().string,buttonStyle:c().string,menuOptions:c().object,singleSection:c().bool,buttonClassName:c().string,menuButtonStyle:c().object,disabled:c().bool}),Z(G,"contextTypes",{messages:c().object,router:c().object}),Z(G,"defaultProps",{id:"mapstore-drawermenu",items:[],toggleMenu:()=>{},glyph:"1-layer",buttonStyle:"primary",menuOptions:{},singleSection:!0,buttonClassName:"square-button ms-drawer-menu-button",disabled:!1});const X=(0,g.connect)((e=>({active:e.controls&&e.controls.drawer&&e.controls.drawer.active,disabled:e.controls&&e.controls.drawer&&e.controls.drawer.disabled})),{toggleMenu:y.Xi.bind(null,"drawer",null)})(G),D={DrawerMenuPlugin:p()(X,{disablePluginIf:"{state('featuregridmode') === 'EDIT'}",FloatingLegend:{priority:1,name:"drawer-menu",button:q}}),reducers:{}}},907535:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n(923645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,"/* Menu Button */\n.ms2 .drawer-menu-button {\n    position: absolute;\n    z-index:1000;\n    left: 30px;\n    top: 8px;\n    width:30px;\n    background: transparent;\n    outline: none;\n    border: transparent;\n    font-size: 14px;\n}\n\n.ms2 .drawer-menu-button:hover {\n    background: transparent;\n}\n\n.ms2 #drawer-menu-button:active{\n    box-shadow: none;\n}\n\n.ms2 #mapstore-drawermenu > div > div:nth-child(2) {\n    display: none;\n}\n\n.ms2 .nav-content #background-switcher .thumbnail {\n    border-radius: 0 !important;\n    margin-bottom: 40px;\n    width: 220px !important;\n}\n.ms2 .nav-content #background-switcher .thumbnail img {\n    border-radius: 0 !important;\n    height: 90px;\n    width: 220px !important;\n}\n\n.ms2 .nav-content #background-switcher .thumbnail .caption {\n    font-size: 14px !important;\n    text-align: left !important;\n    top: -20px !important;\n    position: absolute !important;\n}\n\n.ms2 .nav-content #background-switcher {\n    margin-top: 10px;\n}\n\n.ms2 #mapstore-drawermenu .panel {\n    border: none;\n    box-shadow: none;\n}\n\n.ms2 div.nav-menu {\n    -webkit-transform:   translate3d(300px, 0, 0);\n    -moz-transform: \t translate3d(300px, 0, 0);\n    -ms-transform: \t\t translate3d(300px, 0, 0);\n    -o-transform: \t\t translate3d(300px, 0, 0);\n    box-shadow: 2px 0px 15px #A7A7A7;\n}\n\n.ms2 .nav-menu  .navHeader {\n    height: 50px;\n}\n.ms2 .nav-menu > .nav-content .navHeader .title{\n    font-size: 16px;\n    position: absolute;\n    margin: 13px;\n    font-weight: bold;\n}\n.ms2 .nav-content  .section {\n    margin-bottom: 2px;\n}\n.ms2 .nav-content  .section .sectionHeader{\n    padding: 5px;\n    cursor: pointer;\n}\n.ms2 .nav-content .section .sectionHeader>.glyphicon{\n    /* Firefox */\n    -moz-transition: all .3s ease;\n    /* WebKit */\n    -webkit-transition: all .3s ease;\n    /* Opera */\n    -o-transition: all .3s ease;\n    /* Standard */\n    transition: all .3s ease;\n}\n.ms2 .nav-content  .section .sectionTitle{\n    padding-left: 10px;\n\n}\n.ms2 .nav-content  .section .sectionContent{\n    -moz-transition: max-height .3s ease;\n    -webkit-transition: max-height .3s ease;\n    -o-transition: max-height .3s ease;\n    transition: max-height .3s ease;\n\n    box-shadow: inset 0px 0px 10px rgba(0,0,0,.5);\n    padding: 5px;\n}\n\n.ms2 .navButtons {\n    float: right;\n}\n\n.ms2 #drawer-menu-button {\n     position: absolute;\n}\n",""]);const s=r}}]);