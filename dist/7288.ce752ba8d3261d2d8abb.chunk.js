(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[7288],{956039:(e,t,n)=>{"use strict";n.d(t,{Zw:()=>o,lW:()=>l,QH:()=>i,W6:()=>u,Nw:()=>c,ut:()=>d,jf:()=>p,Ym:()=>x,TQ:()=>y,no:()=>E,Tv:()=>w,fD:()=>C,ZF:()=>S,iE:()=>A,mj:()=>G,pz:()=>R});var r=n(288287),s=n(227361),a=n.n(s);const o="GROUPMANAGER_GETGROUPS",l="GROUPMANAGER_EDITGROUP",i="GROUPMANAGER_EDITGROUP_DATA",u="GROUPMANAGER_UPDATE_GROUP",c="GROUPMANAGER_DELETEGROUP",d="GROUPMANAGER_SEARCHTEXTCHANGED",p="GROUPMANAGER_SEARCHUSERS",m="loading",h="success",g="error",f="saving",v="saved",b="creating",x="created",y="deleted";function E(e,t){let n,s,l=t&&t.params;return l&&(n=l.start,s=l.limit),(l,i)=>{let u=e,c=i&&i();if(c){let t=a()(c,"usergroups.searchText");u=e||t||"*",n=null!=n?n:a()(c,"usergroups.start")||0,s=s||a()(c,"usergroups.limit")||12}return l(function(e,t,n){return{type:o,status:m,searchText:e,start:t,limit:n}}(u,n,s)),r.Z.getGroups(u,{...t,params:{start:n,limit:s}}).then((e=>{let t;t=e&&e.ExtGroupList&&e.ExtGroupList.Group?a()(e,"ExtGroupList.Group"):[];let r=a()(e,"ExtGroupList.GroupCount");t=Array.isArray(t)?t:[t],l(function(e,t,n,r,s){return{type:o,status:h,searchText:e,start:t,limit:n,groups:r,totalCount:s}}(u,n,s,t,r))})).catch((e=>{l(function(e,t,n,r){return{type:o,status:g,searchText:e,start:t,limit:n,error:r}}(u,n,s,e))}))}}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{params:{includeattributes:!0}};return n=>{e&&e.id?(n(function(e){return{type:l,status:m,group:e}}(e)),r.Z.getGroup(e.id,t).then((e=>{n(function(e){return{type:l,status:h,group:e}}(e))})).catch((t=>{n(function(e,t){return{type:l,status:g,group:e,error:t}}(e,t))}))):n(function(e){return{type:l,group:e}}(e))}}function C(e,t){return{type:i,key:e,newValue:t}}function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let s={...e};return s&&s.lastError&&delete s.lastError,s&&s.id?(n(function(e){return{type:u,status:f,group:e}}(s)),r.Z.updateGroup(s,t).then((e=>{n(function(e){return{type:u,status:v,group:e}}(e)),n(E())})).catch((e=>{n(function(e,t){return{type:u,status:g,group:e,error:t}}(s,e))}))):(n(function(e){return{type:u,status:b,group:e}}(s)),r.Z.createGroup(s,t).then((e=>{n(function(e,t){return{type:u,status:x,group:{...t,id:e}}}(e,s)),n(E())})).catch((e=>{n(function(e,t){return{type:u,status:g,group:e,error:t}}(s,e))})))}}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"confirm";return"confirm"===t||"cancelled"===t?function(e,t){return{type:c,status:e,id:t}}(t,e):"delete"===t?t=>{t(function(e){return{type:c,status:"deleting",id:e}}(e)),r.Z.deleteGroup(e).then((()=>{t(function(e){return{type:c,status:y,id:e}}(e)),t(E())})).catch((n=>{t(function(e,t){return{type:c,status:g,id:e,error:t}}(e,n))}))}:()=>{}}function G(e){return{type:d,text:e}}function R(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"*";return l=>(l({type:p,status:m}),r.Z.getUsers(o+e+o,{...s,params:{start:t,limit:n}}).then((e=>{let t,n=0;e&&e.ExtUserList&&e.ExtUserList.User?(t=a()(e,"ExtUserList.User"),n=a()(e,"ExtUserList.UserCount")):t=[],t=Array.isArray(t)?t:[t],l(function(e){return{type:p,status:h,users:e,count:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}}(t,n))})).catch((e=>{l(function(e){return{type:p,status:g,error:e}}(e))})))}},797456:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>G});var r=n(124852),s=n.n(r),a=n(470509),o=n.n(a),l=n(227361),i=n.n(l),u=n(984596),c=n.n(u),d=n(701469),p=n.n(d),m=n(414293),h=n.n(m),g=n(743129),f=n(630294),v=n(200020),b=n(730381),x=n.n(b),y=n(93054);function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}n.n(y)()(x());const w=e=>{let{onChange:t,options:n=[],value:r,multiAttribute:a,separator:o=",",isMulti:l,...i}=e,u=[];u=a?c()(r):r.split?.(o)??[];const d=n.filter((e=>{let{value:t}=e;return u.includes(t)}));return s().createElement(g.ZP,E({options:n,isMulti:l,multi:l,value:l?d:d?.[0],onChange:t?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const n=c()(e??[]).map((e=>{let{value:t}=e;return t}));if(a)return t(n||[]);const r=n.join(o);return t(r||[])}:void 0},i))},C=e=>{let{source:t,...n}=e;const{url:a,path:l,valueAttribute:u="value",labelAttribute:c="label"}=t,[d,p]=(0,r.useState)();return(0,r.useEffect)((()=>{o().get(a).then((e=>{let{data:t}=e;return(l?i()(t,l):t).map((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{value:e?.[u],label:e?.[c]}}))})).then(p)}),[]),s().createElement(w,E({},n,{options:d}))},S=e=>{let{name:t,value:n,onChange:r=(()=>{}),disabled:a,multiAttribute:o,separator:l,...i}=e;return s().createElement(f.FormControl,E({disabled:a,type:"input",value:o&&p()(n)?n.join(l):n,onChange:e=>{if(o){const t=e.target.value&&e.target.value.split(l);return r(t.length>0?t:[])}return r(e.target.value)},name:t},i))},A=e=>{let{name:t,value:n,onChange:r=(()=>{}),format:a,...o}=e;const l=h()(n)||h()(x()(n,a).toDate())||!x()(n,a).isValid()?void 0:x()(n,a).toDate();return s().createElement(v.DateTimePicker,E({format:a,time:!1,calendar:!0,value:l,onChange:e=>{const t=x()(e).isValid()?x()(e).format(a):void 0;r(t)},name:t},o))},G={select:e=>{let{name:t,value:n,options:r,source:a,controlAttributes:o={},onChange:l=(()=>{})}=e;return a?s().createElement(C,E({name:t,value:n,onChange:l},o,{source:a})):s().createElement(w,E({name:t,value:n,onChange:l},o,{options:r??[{value:n,label:n}]}))},text:e=>{let{name:t,value:n,onChange:r=(()=>{}),disabled:a,controlAttributes:o={}}=e;return s().createElement(S,E({componentClass:"textarea",disabled:a,onChange:r,value:n,name:t},o))},string:e=>{let{name:t,value:n,onChange:r=(()=>{}),disabled:a,controlAttributes:o={}}=e;return s().createElement(S,E({type:"text",disabled:a,onChange:r,value:n,name:t},o))},date:e=>{let{name:t,value:n,onChange:r=(()=>{}),disabled:a,controlAttributes:o={}}=e;return s().createElement(A,E({disabled:a,onChange:r,value:n,name:t},o))}}},94841:(e,t,n)=>{"use strict";n.d(t,{C:()=>u});var r=n(124852),s=n.n(r),a=n(59810),o=n(6760),l=n(804504);const i=(0,o.Z)(a.Z),u=e=>{let{onClick:t=(()=>{}),status:n="success"}=e;return s().createElement(i,{confirmPredicate:"modified"===n,confirmTitle:s().createElement(l.Z,{msgId:"warning"}),confirmYes:s().createElement(l.Z,{msgId:"saveDialog.close"}),textId:"saveDialog.close",confirmNo:s().createElement(l.Z,{msgId:"saveDialog.cancel"}),confirmButtonBSStyle:"primary",bsStyle:"default",bsSize:"small",confirmContent:s().createElement(s().Fragment,null,s().createElement(l.Z,{msgId:"map.details.fieldsChanged"}),s().createElement("br",null),s().createElement(l.Z,{msgId:"map.details.sureToClose"})),onClick:t})}},778081:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(124852),s=n.n(r),a=n(630294),o=n(802728),l=n(270250),i=n(859653),u=n(312471);const c=e=>{let{className:t,splitTools:n,isSearchClickable:r=!0,hideOnBlur:c,typeAhead:d,placeholderMsgId:p,removeIcon:m="1-close",searchIcon:h="search",searchText:g="",searchOptions:f,maxResults:v,onSearch:b,onSearchReset:x,onSearchTextChange:y}=e;const E=(0,u.f)({searchText:g,searchOptions:f,maxResults:v,onSearch:b,onSearchReset:x});return s().createElement(o.Z,{className:t},s().createElement(a.FormGroup,null,s().createElement("div",{className:"input-group"},s().createElement(l.Z,{show:!0,hideOnBlur:c,typeAhead:d,placeholderMsgId:p,searchText:g,onSearch:E,onSearchTextChange:y}),s().createElement(i.Z,{splitTools:!1,toolbarButtons:[{glyph:m,className:"square-button-md no-border",bsStyle:"default",pullRight:!0,visible:""!==g,onClick:()=>x()},{glyph:h,className:"square-button-md no-border "+(r?"magnifying-glass clickable":"magnifying-glass"),bsStyle:"default",pullRight:!0,visible:""===g||!n,onClick:()=>E()}]}))))}},802728:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(124852),s=n.n(r);const a=e=>{let{className:t,style:n,children:r}=e;return s().createElement("div",{id:"map-search-bar",style:n,className:"MapSearchBar"+(t?" "+t:"")},r)}},270250:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(124852),s=n.n(r),a=n(45697),o=n.n(a),l=n(630294),i=n(719648);const u=(e,t)=>{let{show:n,autoFocusOnSelect:r=!0,selectedItems:a=[],className:o,style:u={textOverflow:"ellipsis"},placeholder:c,placeholderMsgId:d,hideOnBlur:p=!0,searchText:m="",typeAhead:h=!0,delay:g=1e3,blurResetDelay:f=300,onSearch:v=(()=>{}),onSearchTextChange:b=(()=>{}),onCancelSelectedItem:x=(()=>{}),onPurgeResults:y=(()=>{})}=e;const E=s().useRef(),w=s().useRef(),[C,S]=s().useState(),[A,G]=s().useState(),[R,T]=s().useState(!1);s().useEffect((()=>{const e=w.current;if(r&&a&&(e<a.length||!e&&1===a.length)){const e=E.current;e&&e.focus instanceof Function&&setTimeout((()=>e.focus()),200)}w.current=a&&a.length})),s().useEffect((()=>{R&&(v(),T(!1))}),[R,v]);let Z="search.addressSearch";if(!c&&t.messages){const e=(0,i.S$)(t.messages,d||Z);e&&(Z=e)}else Z=c;return n&&s().createElement(l.FormControl,{className:"searchInput"+(o?` ${o}`:""),key:"search-input",placeholder:Z,type:"text",inputRef:e=>{E.current=e},style:u,value:m,onKeyDown:e=>{switch(e.keyCode){case 13:v();break;case 8:!m&&a&&a.length>0&&x(a[a.length-1])}},onBlur:()=>{p&&(C&&clearTimeout(C),S(setTimeout((()=>{y()}),f)))},onFocus:()=>{h&&m&&v()},onChange:e=>{let t=e.target.value;b(t),h&&(A&&clearTimeout(A),G(setTimeout((()=>{T(!0)}),g)))}})};u.contextTypes={messages:o().object};const c=u},859653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(124852),s=n.n(r),a=n(727418),o=n.n(a),l=n(472986),i=n.n(l),u=n(8204);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const d=e=>{let{loading:t,splitTools:n,toolbarProps:r={},toolbarButtons:a=[],children:l}=e;return s().createElement("span",{className:"search-toolbar-options"},t&&s().createElement(i(),{style:o()({},{position:"absolute"},{right:"69px",zIndex:1,top:"13px"}),spinnerName:"pulse",noFadeIn:!0}),s().createElement(u.Z,c({btnGroupProps:{className:"btn-group-menu-options"},transitionProps:null,btnDefaultProps:{className:"square-button-md",bsStyle:"primary"}},r,{buttons:a})),l)}},312471:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});const r=e=>{let{searchText:t,selectedItems:n,searchOptions:r,maxResults:s,onSearch:a=(()=>{}),onSearchReset:o=(()=>{})}=e;return()=>{const e=t,l=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(t,n){return t+(n?.options?.maxFeatures||e)}),0)||e}(r?.services,s);void 0!==e&&""!==e||n&&0!==n.length?void 0!==e&&""!==e&&a(e,r,l):o()}}},280720:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(923645),s=n.n(r)()((function(e){return e[1]}));s.push([e.id,".ms2 .user-thumb, .ms2 .group-thumb {\n    max-width: 100%;\n    overflow: hidden;\n    height: 200px;\n    font-size: 12px;\n    cursor: auto;\n}\n.ms2 .user-thumb .gridcard-title, .ms2 .group-thumb .gridcard-title {\n    min-height: 25px;\n}\n\n.ms2 .user-thumb .gridcard-tools,.ms2 .group-thumb .gridcard-tools {\n    right: 0\n}\n.ms2 .user-data-container {\n    display: flex;\n    width: 100%;\n    height: 132px;\n}\n.ms2 .user-card-info-container {\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n    padding: 5px 10px 0 10px;\n    width: 0;\n}\n.ms2 .user-card-rolegroups-container {\n    display: flex;\n    min-height: 72px;\n    padding-top: 3px;\n}\n.ms2 .user-thumb .role-containter{\n    width: 50px;\n    margin-right: 20px\n}\n.ms2 .user-thumb .avatar-containter{\n    width: 50px;\n}\n.ms2 .user-thumb  .groups-container {\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n    white-space: nowrap;\n    overflow: hidden;\n}\n.ms2 .user-thumb  .groups-container .groups-list{\n    width: 100%;\n    overflow-y: auto;\n    overflow-x: hidden;\n}\n\n.ms2 .user-thumb .groups-container .groups-list .group-item {\n    overflow-x: hidden;\n    text-overflow: ellipsis;\n}\n.ms2 .group-thumb .group-thumb-description {\n    font-size: 12px;\n    text-align: justify;\n    min-height: 72px;\n    display: flex;\n    flex-direction: column;\n    padding-top: 3px;\n}\n.ms2 .group-thumb .group-thumb-description .group-thumb-description-content {\n    overflow: auto;\n    word-wrap: break-word;\n}",""]);const a=s},390328:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(923645),s=n.n(r)()((function(e){return e[1]}));s.push([e.id,".ms2 .user-edit-dialog, .ms2 .group-edit-dialog{\n    z-index: 1000;\n}\n\n.ms2 .user-edit-dialog,.ms2 .group-edit-dialog {\n    width: 300px;\n    margin-left: calc(50% - 150px);\n    margin-top: 100px;\n}\n\n.ms2 .user-edit-dialog .modal-body .nav-tabs li a, .ms2 .group-edit-dialog .modal-body .nav-tabs li a {\n    padding: 0;\n}\n.ms2 .group-edit-dialog .user-thumb {\n    height: auto;\n    margin-bottom: 10px;\n}\n.ms2 .group-edit-dialog .user-thumb .user-status {\n    display: none;\n}\n\n.ms2 .user-edit-dialog .modal-header, .ms2 .group-edit-dialog .modal-header {\n    text-overflow: ellipsis;\n    overflow: hidden;\n}\n.ms2 .user-edit-dialog  .Select--multi .Select-value-label{\n    max-width: 180px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.ms2 .user-edit-dialog  .Select-multi-value-wrapper {\n    max-height: 300px;\n    overflow: auto;\n    min-height: 36px;\n    min-width: 100%;\n}\n",""]);const a=s},354033:(e,t,n)=>{"use strict";var r=n(893379),s=n.n(r),a=n(280720);s()(a.Z,{insert:"head",singleton:!1}),a.Z.locals},380623:(e,t,n)=>{"use strict";var r=n(893379),s=n.n(r),a=n(390328);s()(a.Z,{insert:"head",singleton:!1}),a.Z.locals}}]);