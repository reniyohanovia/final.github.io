(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[36],{481151:(e,t,a)=>{"use strict";a.d(t,{NH:()=>r,E7:()=>n,N7:()=>o,L9:()=>s,hQ:()=>i,NC:()=>l,c9:()=>p,up:()=>c,AN:()=>m,FZ:()=>d,Fi:()=>u,KB:()=>E,E0:()=>y,Q_:()=>h,hY:()=>T,wO:()=>A,sT:()=>I,wR:()=>v,h1:()=>f,hS:()=>N,zK:()=>L,VS:()=>S,oz:()=>b,FH:()=>g,XN:()=>_,Ym:()=>C,RQ:()=>P});const r="PLAYBACK:START",n="PLAYBACK:PAUSE",o="PLAYBACK:STOP",s="PLAYBACK:SET_FRAMES",i="PLAYBACK:APPEND_FRAMES",l="PLAYBACK:FRAMES_LOADING",p="PLAYBACK:SET_CURRENT_FRAME",c="PLAYBACK:SELECT_PLAYBACK_RANGE",m="PLAYBACK:SET_INTERVAL_DATA",d="PLAYBACK:SETTINGS_CHANGE",u="PLAYBACK:TOGGLE_ANIMATION_MODE",E="PLAYBACK:ANIMATION_STEP_MOVE",y="PLAYBACK:UPDATE_METADATA",h={PLAY:"PLAY",STOP:"STOP",PAUSE:"PAUSE"},T=()=>({type:r}),A=()=>({type:n}),I=()=>({type:o}),v=e=>({type:s,frames:e}),f=e=>({type:p,frame:e}),N=e=>({type:i,frames:e}),L=e=>({type:l,loading:e}),S=e=>({type:c,range:e}),b=(e,t)=>({type:d,name:e,value:t}),g=()=>({type:u}),_=e=>({type:E,direction:e}),C=e=>{let{next:t,previous:a,forTime:r}=e;return{type:y,forTime:r,next:t,previous:a}},P=e=>({type:m,timeIntervalData:e})},69371:(e,t,a)=>{"use strict";a.d(t,{qx:()=>r,Lv:()=>n,iv:()=>o,br:()=>s,Xe:()=>i,_V:()=>l,JU:()=>p,cb:()=>c,lz:()=>m,Wb:()=>d,M5:()=>u,w:()=>E,p:()=>y,Ud:()=>h,vf:()=>T,AE:()=>A,xp:()=>I,i9:()=>v,HM:()=>f,y3:()=>N,cO:()=>L,aA:()=>S,Nb:()=>b,kq:()=>g,PQ:()=>_,KI:()=>C,m7:()=>P,Hz:()=>M,w2:()=>k,Z7:()=>O,_e:()=>Y,FE:()=>D,st:()=>R,Qq:()=>B,bz:()=>U,mF:()=>F});const r="TIMELINE:SELECT_TIME",n="TIMELINE:RANGE_CHANGE",o="TIMELINE:RANGE_DATA_LOADED",s="TIMELINE:LOADING",i="TIMELINE:INIT_SELECT_LAYER",l="TIMELINE:SELECT_LAYER",p="TIMELINE:ENABLE_OFFSET",c="TIMELINE:AUTOSELECT",m="TIMELINE:SET_SNAP_TYPE",d="TIMELINE:SET_END_VALUES_SUPPORT",u="TIMELINE:SET_COLLAPSED",E="TIMELINE:SET_MAP_SYNC",y="TIMELINE:INIT_TIMELINE",h="TIMELINE:RESET_TIMELINE",T="TIMELINE:SET_RANGE_INIT",A="TIMELINE:SNAP_RADIO_BUTTON_ENABLED",I="TIMELINE:SET_LAYERS",v="TIMELINE:UPDATE_LAYERS_SETTINGS",f=(e,t,a,n)=>({type:r,time:e,group:t,what:a,item:n}),N=function(){let{start:e,end:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:n,start:e,end:t}},L=(e,t,a,r)=>({type:o,layerId:e,range:t,histogram:a,domain:r}),S=(e,t)=>({type:s,layerId:e,loading:t}),b=function(e){return{type:i,layerId:e,snap:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]}},g=function(e){return{type:l,layerId:e,snap:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]}},_=e=>({type:p,enabled:e}),C=()=>({type:c}),P=e=>({type:m,snapType:e}),M=e=>({type:d,endValuesSupport:e}),k=e=>({type:u,collapsed:e}),O=e=>({type:E,mapSync:e}),Y=e=>({type:y,config:e}),D=()=>({type:h}),R=e=>({type:T,value:e}),B=e=>({type:A,snapRadioButtonEnabled:e}),U=e=>({type:I,layers:e}),F=(e,t)=>({type:v,id:e,checked:t})},251820:(e,t,a)=>{"use strict";a.d(t,{Z:()=>I});var r=a(124852),n=a.n(r),o=a(532475),s=a.n(o),i=a(414293),l=a.n(i),p=a(45697),c=a.n(p),m=a(730381),d=a.n(m),u=a(630294),E=a(36549),y=a(23888);function h(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const T=(0,E.Z)(u.Glyphicon);class A extends n().Component{constructor(){var e;super(...arguments),e=this,h(this,"onUpdate",((e,t)=>{const a=d()(this.props.date).utc(),r=t?d()(a).add(1,e):d()(a).subtract(1,e);r.isValid()&&!isNaN(r.toDate().getTime())&&this.props.onUpdate(r.toISOString())})),h(this,"onChange",(function(t,a){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e;if(""!==a){const n=d()(e.props.date).utc(),o=n["day"===t?"date":t]&&d()(n)["day"===t?"date":t](r(a));o.isValid()&&!isNaN(o.toDate().getTime())&&e.props.onUpdate(o.toISOString())}})),h(this,"getForm",(()=>{const e=this.props.date&&d()(this.props.date).utc();return[{name:"icon",value:"calendar",type:"icon"},{name:"day",placeholder:"DD",value:e&&e.date()},{name:"month",placeholder:"MM",readOnly:!0,value:e&&e.month(),format:e=>!l()(e)&&""!==e&&d().monthsShort(e),parseValue:e=>e-1},{name:"year",placeholder:"YYYY",value:e&&e.year()},{name:"icon",value:"time",type:"icon"},{name:"hours",placeholder:"hh",value:e&&e.hours()},{name:"separator",value:":",type:"separator"},{name:"minutes",placeholder:"mm",value:e&&e.minutes()},{name:"separator",value:":",type:"separator"},{name:"seconds",placeholder:"ss",value:e&&e.seconds()},{name:"separator",value:e&&e.utcOffset(),type:"separator",format:e=>"UTC "+(e>=0?"+":"-")+s()(e/60,2,0)}]}))}render(){const e=this.getForm();return n().createElement(u.Form,{className:`ms-inline-datetime ${this.props.className}`,style:this.props.style},n().createElement(u.FormGroup,{controlId:"inlineDateTime"},this.props.glyph&&n().createElement("div",{style:this.props.clickable?{cursor:"pointer"}:{},onClick:()=>this.props.clickable&&this.props.onIconClick(this.props.date,this.props.glyph)},n().createElement(T,{tooltip:this.props.clickable?this.props.tooltip:void 0,tooltipId:this.props.clickable?this.props.tooltipId:void 0,className:"ms-inline-datetime-icon",glyph:this.props.glyph})),e.map((e=>"icon"===e.type&&n().createElement("div",{className:`ms-inline-datetime-input ms-dt-${e.name}`},n().createElement(T,{glyph:e.value}))||"separator"===e.type&&n().createElement("div",{className:`ms-inline-datetime-input ms-dt-${e.name}`},e.format&&e.format(e.value)||e.value)||n().createElement("div",{className:`ms-inline-datetime-input ms-dt-${e.name}`},this.props.showButtons&&n().createElement(y.Z,{bsSize:"xs",disabled:!this.props.date,onClick:()=>this.onUpdate(e.name,!0)},n().createElement(T,{glyph:"chevron-up"})),n().createElement(u.FormControl,{type:"text",readOnly:e.readOnly,placeholder:e.placeholder||e.name,disabled:!this.props.date,value:e.format&&e.format(e.value)||e.value,onChange:t=>this.onChange(e.name,t.target.value,e.parseValue)}),this.props.showButtons&&n().createElement(y.Z,{bsSize:"xs",disabled:!this.props.date,onClick:()=>this.onUpdate(e.name)},n().createElement(T,{glyph:"chevron-down"})))))))}}h(A,"propTypes",{date:c().string,clickable:c().bool,onUpdate:c().func,onIconClick:c().func,glyph:c().string,style:c().object,className:c().string,tooltip:c().string,tooltipId:c().string,showButtons:c().bool}),h(A,"defaultProps",{date:"",onIconClick:()=>{},clickable:!1,onUpdate:()=>{},glyph:"time",style:{},className:"",tooltip:""});const I=A},234425:(e,t,a)=>{"use strict";a.d(t,{w:()=>i});var r=a(49977),n=a.n(r),o=a(175082),s=a(926244);const i=(e,t,a,r,i)=>n().Observable.forkJoin((0,o.Ci)(...e(a,{sort:"asc",...i&&{fromValue:t?(0,s.p)(i,1e-4,"remove"):i},..."end"===r?{fromEnd:!0}:{}})).map((e=>e.DomainValues.Domain.split(","))).map((e=>{let[t]=e;return t})).catch((e=>e&&n().Observable.of(null))),(0,o.Ci)(...e(a,{sort:"desc",...i&&{fromValue:t?(0,s.p)(i,1e-4,"add"):i},..."end"===r?{fromEnd:!0}:{}})).map((e=>e.DomainValues.Domain.split(","))).map((e=>{let[t]=e;return t})).catch((e=>e&&n().Observable.of(null))))},811974:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var r=a(929761),n=a(333101),o=a(687753),s=a(521923),i=a(730381),l=a.n(i),p=a(66604),c=a.n(p),m=a(535937),d=a.n(m);const u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.XV:return(0,s.t8)(`data[${t.dimension}][${t.layerId}]`,t.data,e);case r.mE:return(0,s.t8)("currentTime",t.time,e);case r.at:return(0,s.t8)("offsetTime",t.offsetTime,e);case r.mD:if(e.offsetTime&&e.currentTime){const a=l()(e.offsetTime).diff(e.currentTime),r=l()(t.time).add(a);return(0,s.t8)("currentTime",t.time,(0,s.t8)("offsetTime",r.toISOString(),e))}return(0,s.t8)("currentTime",t.time,e);case n.sb:{const a=c()(e.data,(e=>d()(e,((e,a)=>a!==t.node))));return(0,s.t8)("data",a,e)}case o.l:return(0,s.t8)("data",void 0,(0,s.t8)("currentTime",void 0,(0,s.t8)("offsetTime",void 0,e)));default:return e}}},365452:(e,t,a)=>{"use strict";a.d(t,{z2:()=>n,V3:()=>o,dS:()=>s,yt:()=>l,E2:()=>p,Np:()=>c,KC:()=>m,Wq:()=>d,rp:()=>u,PF:()=>E});var r=a(22222);const n=e=>e&&e.playback&&e.playback.settings,o=e=>(n(e)||{}).frameDuration||5,s=e=>e&&e.playback&&e.playback.status,i=e=>e&&e.playback&&e.playback.frames,l=e=>{const t=i(e)||[];return t[t.length-1]},p=e=>e&&e.playback&&e.playback.framesLoading,c=e=>e&&e.playback&&e.playback.currentFrame,m=e=>(e=>e&&e.playback&&e.playback.playbackRange)(e),d=e=>(i(e)||[])[c(e)],u=e=>e&&e.playback&&e.playback.metadata,E=(0,r.P1)(i,c,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return{hasNext:e[t+1],hasPrevious:e[t-1]}}))},18190:e=>{var t=Math.floor;e.exports=function(e,a){var r="";if(!e||a<1||a>9007199254740991)return r;do{a%2&&(r+=e),(a=t(a/2))&&(e+=e)}while(a);return r}},378302:(e,t,a)=>{var r=a(18190),n=a(880531),o=a(440180),s=a(862689),i=a(788016),l=a(683140),p=Math.ceil;e.exports=function(e,t){var a=(t=void 0===t?" ":n(t)).length;if(a<2)return a?r(t,e):t;var c=r(t,p(e/i(t)));return s(t)?o(l(c),0,e).join(""):c.slice(0,e)}},532475:(e,t,a)=>{var r=a(378302),n=a(788016),o=a(640554),s=a(479833);e.exports=function(e,t,a){e=s(e);var i=(t=o(t))?n(e):0;return t&&i<t?r(t-i,a)+e:e}}}]);