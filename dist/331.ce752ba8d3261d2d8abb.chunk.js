(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[331],{976719:(e,t,n)=>{"use strict";n.d(t,{lD:()=>o,yK:()=>r,gf:()=>a,Qr:()=>i,Kx:()=>s,V:()=>l,Wt:()=>p,Qw:()=>u,GI:()=>m,MT:()=>d,XX:()=>c,sc:()=>h,qg:()=>g,Kf:()=>E,ES:()=>v,ud:()=>y,tV:()=>f,Bd:()=>b,pO:()=>T,Gd:()=>S,$3:()=>N,el:()=>A,CG:()=>C,h2:()=>M,NR:()=>O,RM:()=>x,dD:()=>L,wB:()=>P,Y_:()=>R,nl:()=>I,S1:()=>q});const o="CHANGE_MEASUREMENT_TOOL",r="CHANGE_MEASUREMENT_STATE",a="MEASUREMENT:CHANGE_UOM",i="MEASUREMENT:CHANGED_GEOMETRY",s="MEASUREMENT:SET_TEXT_LABELS",l="MEASUREMENT:SET_CURRENT_FEATURE",p="MEASUREMENT:ADD_AS_LAYER",u="MEASUREMENT:RESET_GEOMETRY",m="MEASUREMENT:CHANGE_FORMAT",d="MEASUREMENT:CHANGE_COORDINATES",c="MEASUREMENT:ADD_MEASURE_AS_ANNOTATION",h="MEASUREMENT:UPDATE_MEASURES",g="MEASUREMENT:INIT",E="MEASUREMENT:SET_MEASUREMENT_CONFIG",v="MEASUREMENT:SET_ANNOTATION_MEASUREMENT";function y(e,t,n,o,r){return{type:c,features:e,textLabels:t,uom:n,save:o,properties:r}}function f(e){return{type:o,...e}}function b(e){return t=>{t(f(e))}}function T(e,t){return{type:v,features:e,properties:t}}function S(e,t,n){return{type:a,uom:e,value:t,previousUom:n}}function N(e){return{type:i,features:e}}function A(e,t){return{type:E,property:e,value:t}}function C(e){return{type:s,textLabels:e}}function M(e){return{type:l,featureIndex:e}}function O(e,t,n){return{type:p,features:e,textLabels:t,uom:n}}function x(e){return{type:m,format:e}}function L(e){return{type:d,coordinates:e}}function P(){return{type:u}}function R(e){return{type:h,measures:e}}function I(e){return{type:r,pointMeasureEnabled:e.pointMeasureEnabled,lineMeasureEnabled:e.lineMeasureEnabled,areaMeasureEnabled:e.areaMeasureEnabled,bearingMeasureEnabled:e.bearingMeasureEnabled,geomType:e.geomType,values:e.values,feature:e.feature,point:e.point,len:e.len,area:e.area,bearing:e.bearing,lenUnit:e.lenUnit,areaUnit:e.areaUnit}}function q(){return{type:g,defaultOptions:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}},100845:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var o=n(124852),r=n.n(o),a=n(45697),i=n.n(a),s=n(630294),l=n(743129),p=n(36549),u=n(91175),m=n.n(u),d=n(807654),c=n.n(d),h=n(227361),g=n.n(h),E=n(441609),v=n.n(E),y=n(719648),f=n(8204),b=n(208335),T=n(804504),S=n(363082),N=n(495438),A=n(281763),C=n.n(A),M=n(556233),O=n(351546),x=n(481330),L=n(867076);const P=(e,t,n)=>C()(parseFloat(e))&&!isNaN(parseFloat(e))?(0,M.Ov)(parseFloat(e),t,n):e,R=(e,t,n)=>C()(parseFloat(e))&&!isNaN(parseFloat(e))?parseFloat((0,M.Ov)(e,n,t).toFixed(4)):e,I=(0,L.compose)((0,L.defaultProps)({valueUom:"m",displayUom:"m",units:[{value:"degrees",label:"deg",originUom:"degrees"},{value:"ft",label:"ft",originUom:"m"},{value:"m",label:"m",originUom:"m"},{value:"km",label:"km",originUom:"m"},{value:"mi",label:"mi",originUom:"m"},{value:"nm",label:"nm",originUom:"m"}]}),(0,L.withStateHandlers)((e=>{let{displayUom:t="nm"}=e;return{uom:t}}),{setUom:()=>e=>({uom:e})}),(0,L.withState)("localValue","setLocalValue"),(0,L.withPropsOnChange)(["value","localValue","uom","valueUom"],(e=>{let{value:t,localValue:n,uom:o,valueUom:r}=e;return{value:t===P(n,o,r)?n:R(t,o,r)}})),(0,L.withHandlers)({onChange:e=>{let{uom:t,projection:n,valueUom:o,onChange:r=(()=>{}),setLocalValue:a=(()=>{})}=e;return e=>{a(e),r(P(e,t,o),n)}}}))((e=>{let{value:t,units:n=[],uom:o,projection:a="EPSG:3857",style:i={display:"inline-flex",width:"100%"},setUom:l=(()=>{}),onChange:p=(()=>{})}=e;const u=(0,O.getUnits)(a);return r().createElement(s.FormGroup,{style:i},r().createElement(x.Z,{value:t,placeholder:"radius",name:"radius",onChange:e=>p(e,o),step:1,type:"number"}),r().createElement(s.FormControl,{componentClass:"select",placeholder:"select",value:o,onChange:e=>l(e.target.value),style:{width:85}},n.filter((e=>{let{originUom:t}=e;return u===t})).map((e=>r().createElement("option",{key:e.value,value:e.value},e.label)))))}));function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},q.apply(this,arguments)}function F(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=(0,p.Z)(s.Glyphicon),U=(0,p.Z)(s.DropdownButton);class V extends r().Component{constructor(){var e;super(...arguments),e=this,F(this,"getValidationStateRadius",(e=>{const t=parseFloat(e);return c()(t)?"error":null})),F(this,"renderLabelTexts",((e,t)=>{const{textLabels:n,featurePropValue:o}=t;return"Polygon"===this.props.type?!v()(n)&&n[e].text:0!==e?v()(n)?!v()(o)&&o[0].formattedValue:n[e-1].text:null})),F(this,"validateCoordinates",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.components,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0;if(t&&t.length){const r=t.filter(S.Tl);return n?r.length>e.props.componentsValidation[e.props.type].min||r.length>=e.props.componentsValidation[e.props.type].min&&!(0,S.Tl)(t[o]):r.length>=e.props.componentsValidation[e.props.type].min}return!1})),F(this,"validateCircle",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.components,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.props.properties.radius;if(t&&t.length){const e=m()(t);return!c()(parseFloat(n))&&(0,S.Tl)(e)}return!1})),F(this,"validateText",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.components,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.props.properties.valueText;if(t&&t.length){const e=m()(t);return!!n&&(0,S.Tl)(e)}return!1})),F(this,"isValid",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.components,n=arguments.length>1?arguments[1]:void 0;return e[e.props.componentsValidation[e.props.type].validation](t,!1,n)})),F(this,"addCoordPolygon",(e=>{if("Polygon"===this.props.type){const t=e.filter(S.Tl),n=this.props.features[this.props.currentFeature]?.geometry?.coordinates?.[0]||[],o=void 0!==n?n.findIndex((e=>!(0,S.Tl)({lon:e[0],lat:e[1]}))):-1;return e.concat([t.length&&0!==o?t[0]:{lat:"",lon:""}])}return e})),F(this,"change",((e,t)=>{let n=this.props.components;const o=c()(parseFloat(t.lat))?"":parseFloat(t.lat),r=c()(parseFloat(t.lon))?"":parseFloat(t.lon);n[e]={lat:o,lon:r};let a=this.addCoordPolygon(n);this.props.onChange(a,this.props.properties.radius,this.props.properties.valueText,this.props.mapProjection),this.isValid(n)?(this.props.isMouseEnterEnabled||"LineString"===this.props.type||"Polygon"===this.props.type)&&this.props.onHighlightPoint(n[e]):((this.props.isMouseLeaveEnabled||"LineString"===this.props.type||"Polygon"===this.props.type)&&this.props.onHighlightPoint(null),this.props.onSetInvalidSelected("coords",n.map(S.bh)))}))}renderCircle(){return r().createElement("div",{style:{flex:1,overflowY:"auto",padding:"0 10px"}},r().createElement("div",null,r().createElement(s.FormGroup,{validationState:this.getValidationStateRadius(this.props.properties.radius)},r().createElement(s.ControlLabel,null,r().createElement(T.Z,{msgId:"annotations.editor.radius"})),r().createElement(I,q({placeholder:"radius"},this.props.measureOptions,{value:this.props.properties.radius,projection:this.props.mapProjection,name:"radius",onChange:(e,t)=>{this.props.onValidateFeature(),this.isValid(this.props.components,e)?this.props.onChangeRadius(parseFloat(e),this.props.components.map(S.bh),t):""!==e?this.props.onChangeRadius(parseFloat(e),[],t):(this.props.onChangeRadius(null,this.props.components.map(S.bh),t),this.props.onSetInvalidSelected("radius",this.props.components.map(S.bh)))},step:1,type:"number"})))))}render(){const e=this.props.features[this.props.currentFeature||0],t=g()(e,"geometry.textLabels",[]),n=g()(e,"properties.values",[]),{componentsValidation:o,type:a}=this.props,i=[...this.props.components],p=i.filter(S.Tl).length===i.length,u=this[o[a].validation]()&&p,d=[{value:"decimal",text:r().createElement(T.Z,{msgId:"annotations.editor.decimal"})},{value:"aeronautical",text:r().createElement(T.Z,{msgId:"annotations.editor.aeronautical"})}],c=[{glyph:u?"ok-sign text-success":"exclamation-mark text-danger",tooltipId:u?"annotations.editor.valid":o[a].notValid,visible:!0},{Element:()=>r().createElement(U,{noCaret:!0,title:r().createElement(_,{glyph:"cog"}),pullRight:!0,className:"square-button-md no-border",tooltip:"Format"},d.map((e=>{let{text:t,value:n}=e;return r().createElement(s.MenuItem,{active:this.props.format===n,key:n,onClick:()=>this.props.onChangeFormat(n)},t)})))},{glyph:"plus",tooltipId:"annotations.editor.add",disabled:"Bearing"!==a&&this.props.properties.disabled,visible:!o[a].add||!o[a].max||this.props.components.length!==o[a].max,onClick:()=>{let e=[...this.props.components];e=e.concat([{lat:"",lon:""}]),this.props.onChange(e,this.props.properties.radius,this.props.properties.valueText,this.props.mapProjection)}}];return r().createElement("div",{className:"coordinates-editor",style:this.props.style},r().createElement("div",{className:"measure-feature-selector"},r().createElement("div",null,this.props.showFeatureSelector?r().createElement(l.ZP,{value:this.props.currentFeature,disabled:this.props.properties.disabled,options:[...this.props.features.map(((e,t)=>{const n=g()(e,"properties.values",[]),o="bearing"===(n[0]||{}).type?"Bearing":e.geometry.type;if(o!==this.props.type)return null;const r="LineString"===o?"Length":"Bearing"===o?"Bearing":"Area";return{label:`${o} (${n.length>0?`${r} ${n[0].formattedValue}`:""}${n.length>1&&"Polygon"===o?`, Perimeter: ${n[1].formattedValue}`:""})`,value:t}})),{label:(0,y.S$)(this.context.messages,"annotations.editor.newFeature"),value:this.props.features.length}].filter((e=>!!e)),onChange:e=>this.props.onChangeCurrentFeature(e?.value)}):null),r().createElement("div",null,r().createElement(f.Z,{btnGroupProps:{className:"pull-right"},btnDefaultProps:{className:"square-button-md no-border"},buttons:c}))),"Circle"===this.props.type&&this.renderCircle(),"Circle"===this.props.type&&r().createElement("div",{style:{flex:1,overflowY:"auto",paddingLeft:10,marginTop:10}},r().createElement("div",null,r().createElement(s.ControlLabel,null,r().createElement(T.Z,{msgId:"annotations.editor.center"})))),r().createElement("div",{className:`coordinates-row-container coordinates-row-type-${a}`},this.props.components.map(((e,i)=>r().createElement(r().Fragment,null,this.props.showLengthAndBearingLabel&&r().createElement("div",{className:"label-texts"},r().createElement("span",null,this.renderLabelTexts(i,{textLabels:t,featurePropValue:n}))),r().createElement(N.Z,{format:this.props.format,aeronauticalOptions:this.props.aeronauticalOptions,sortId:i,key:i+" key",disabled:this.props.properties.disabled&&(0,S.Tl)(e),renderer:this.props.renderer,isDraggable:this.props.isDraggable,isDraggableEnabled:this.props.isDraggable&&this[o[a].validation]()&&!this.props.properties.disabled,showDraggable:this.props.isDraggable&&!("Point"===this.props.type||"Text"===this.props.type||"Circle"===this.props.type),formatVisible:!1,removeVisible:o[a].remove,removeEnabled:this[o[a].validation](this.props.components,o[a].remove,i),onSubmit:this.change,onMouseEnter:e=>{(this.props.isMouseEnterEnabled||"LineString"===this.props.type||"Polygon"===this.props.type||"MultiPoint"===this.props.type)&&this.props.onHighlightPoint(e)},onMouseLeave:()=>{(this.props.isMouseLeaveEnabled||"LineString"===this.props.type||"Polygon"===this.props.type||"MultiPoint"===this.props.type)&&this.props.onHighlightPoint(null)},onSort:(e,t)=>{const n=this.props.components.reduce(((n,o,r)=>e===r?e>t?[...n,{...o},m()(this.props.components.filter(((e,n)=>n===t)))]:[...n,m()(this.props.components.filter(((e,n)=>n===t))),{...o}]:t===r?[...n]:[...n,{...o}]),[]).filter((e=>e));this.isValid(n)?this.props.onChange(n):this.props.properties.isValidFeature&&this.props.onSetInvalidSelected("coords",this.props.components.map(S.bh))},idx:i,component:e,onRemove:()=>{const e=this.props.components.filter(((e,t)=>t!==i));this.isValid(e)?(this.props.isMouseEnterEnabled||"LineString"===this.props.type&&i!==e.length||"Polygon"===this.props.type?this.props.onHighlightPoint(e[i]):this.props.onHighlightPoint(null),this.props.onChange(e)):this.props.properties.isValidFeature&&this.props.onSetInvalidSelected("coords",this.props.components.map(S.bh))},onValidateFeature:this.props.onValidateFeature}))))),(!this.props.components||0===this.props.components.length)&&r().createElement("div",{className:"text-center",style:{padding:15,paddingBottom:30}},r().createElement("i",null,r().createElement(T.Z,{msgId:"annotations.editor.addByClick"}))))}}F(V,"propTypes",{components:i().array,measureOptions:i().object,onSetInvalidSelected:i().func,onChange:i().func,onChangeRadius:i().func,onHighlightPoint:i().func,onChangeText:i().func,onChangeFormat:i().func,onChangeCurrentFeature:i().func,format:i().string,aeronauticalOptions:i().object,componentsValidation:i().object,transitionProps:i().object,properties:i().object,mapProjection:i().string,features:i().array,currentFeature:i().number,showFeatureSelector:i().bool,type:i().string,isDraggable:i().bool,isMouseEnterEnabled:i().bool,isMouseLeaveEnabled:i().bool,showLengthAndBearingLabel:i().bool,renderer:i().string,style:i().object,onValidateFeature:i().func}),F(V,"contextTypes",{messages:i().object}),F(V,"defaultProps",{components:[],measureOptions:{},onChange:()=>{},onChangeRadius:()=>{},onHighlightPoint:()=>{},onChangeFormat:()=>{},onChangeText:()=>{},onChangeCurrentFeature:()=>{},onSetInvalidSelected:()=>{},onValidateFeature:()=>{},componentsValidation:{Bearing:{min:2,max:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"annotations.editor.notValidPolyline"},Polygon:{min:3,add:!0,remove:!0,validation:"validateCoordinates",notValid:"annotations.editor.notValidPolyline"},LineString:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"annotations.editor.notValidPolyline"},MultiPoint:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"annotations.editor.notValidPolyline"},Point:{min:1,max:1,add:!0,remove:!1,validation:"validateCoordinates",notValid:"annotations.editor.notValidMarker"},Circle:{min:1,max:1,add:!0,remove:!1,validation:"validateCircle",notValid:"annotations.editor.notValidCircle"},Text:{min:1,max:1,add:!0,remove:!1,validation:"validateText",notValid:"annotations.editor.notValidText"}},transitionProps:{transitionName:"switch-panel-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300},features:[],isDraggable:!0,isMouseEnterEnabled:!1,isMouseLeaveEnabled:!1,properties:{},type:"Point",style:{display:"flex",flexDirection:"column",flex:1}});const D=(0,b.Z)(V)},502422:(e,t,n)=>{"use strict";n.d(t,{U:()=>m});var o=n(687753),r=n(49977),a=n.n(r),i=n(119008),s=n(172768),l=n(296252),p=n(859518),u=n(306692);const m=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(e,t)=>a().Observable.from([(0,o.Xg)(t,"enabled",null)]),m=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(e,t)=>(0,i.Yq)(t)(e);return e.ofType(s.Np,l.hZ,p.YD,u.$O).filter((e=>{let{type:o,status:r,owner:a,eventName:i,toolName:d}=e;const c=m(t.getState(),n);switch(o){case u.$O:return"featureGrid"!==n;case p.YD:return c&&"click"===i&&d!==n;case l.hZ:return c&&("drawOrEdit"===r||"start"===r)&&a!==n;case s.Np:default:return c&&"annotations"!==n}})).switchMap((e=>m(t.getState(),n)?r(t.getState(),n,e):a().Observable.empty()))}},556233:(e,t,n)=>{"use strict";n.d(t,{sW:()=>s,z$:()=>l,r2:()=>p,O$:()=>u,vq:()=>m,rp:()=>c,Ov:()=>E,wd:()=>v,L0:()=>y}),n(701469);var o=n(91175),r=n.n(o),a=n(807654),i=n.n(a);const s={LENGTH:"length",AREA:"area",POINT_COORDINATES:"POINT_COORDINATES",HEIGHT_FROM_TERRAIN:"HEIGHT_FROM_TERRAIN",POLYLINE_DISTANCE_3D:"POLYLINE_DISTANCE_3D",AREA_3D:"AREA_3D",SLOPE:"SLOPE",ANGLE_3D:"ANGLE_3D"},l={[s.LENGTH]:{unit:"m",label:"m",value:"m"},[s.AREA]:{unit:"sqm",label:"m²",value:"sqm"},[s.POLYLINE_DISTANCE_3D]:{unit:"m",label:"m",value:"m"},[s.AREA_3D]:{unit:"sqm",label:"m²",value:"sqm"},[s.POINT_COORDINATES]:{unit:"m",label:"m",value:"m"},[s.HEIGHT_FROM_TERRAIN]:{unit:"m",label:"m",value:"m"},[s.SLOPE]:{unit:"deg",label:"°",value:"deg"},[s.ANGLE_3D]:{unit:"deg",label:"°",value:"deg"}},p={[s.POLYLINE_DISTANCE_3D]:"polyline-3d",[s.AREA_3D]:"polygon-3d",[s.POINT_COORDINATES]:"point-coordinates",[s.HEIGHT_FROM_TERRAIN]:"height-from-terrain",[s.ANGLE_3D]:"angle",[s.SLOPE]:"slope"},u={[s.POLYLINE_DISTANCE_3D]:[{value:"ft",label:"ft"},{value:"m",label:"m"},{value:"km",label:"km"},{value:"mi",label:"mi"},{value:"nm",label:"nm"}],[s.AREA_3D]:[{value:"sqft",label:"ft²"},{value:"sqm",label:"m²"},{value:"sqkm",label:"km²"},{value:"sqmi",label:"mi²"},{value:"sqnm",label:"nm²"}],[s.HEIGHT_FROM_TERRAIN]:[{value:"ft",label:"ft"},{value:"m",label:"m"}],[s.ANGLE_3D]:[{value:"deg",label:"°"},{value:"rad",label:"rad"}],[s.SLOPE]:[{value:"deg",label:"°"},{value:"percentage",label:"%"}],[s.POINT_COORDINATES]:[{value:"ft",label:"ft"},{value:"m",label:"m"}]},m={sqft:{value:"ft",label:"ft"},sqm:{value:"m",label:"m"},sqkm:{value:"km",label:"km"},sqmi:{value:"mi",label:"mi"},sqnm:{value:"nm",label:"nm"}};function d(e){var t=Math.floor(e),n=60*(e-t),o=Math.floor(n),r=60*(n-o);return t+"° "+o+"' "+Math.floor(r)+"'' "}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,{measureTrueBearing:t=!1,fractionDigits:n=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o="";if(t){let t="";e>=0&&e<10?t="00":e>10&&e<100&&(t="0"),o=t+(n>0?e.toFixed(n):Math.floor(e))+"°"}else e>=0&&e<90?o="N "+d(e)+"E":e>90&&e<=180?o="S "+d(180-e)+"E":e>180&&e<270?o="S "+d(e-180)+"W":e>=270&&e<=360&&(o="N "+d(360-e)+"W");return o}const h={yd:{ft:3,m:.9144,km:9144e-7,yd:1,mi:.00056818181818,nm:.00049373650107},ft:{ft:1,m:.3048,km:3048e-7,yd:.33333333333334,mi:.0001893932,nm:164579e-9},m:{ft:3.28084,m:1,km:.001,yd:1.0936132983377,mi:621371e-9,nm:.000539956803},km:{ft:3280.84,m:1e3,km:1,yd:1093.6132983377,mi:.62137121212121,nm:.5399568207343395},mi:{ft:5280.000168959982,m:1609.3440514990027,km:1.6093440514990027,yd:1760,mi:1,nm:.8689762697078849},nm:{ft:6076.115679999979,m:1852.0000592639938,km:1.8520000592639938,yd:2025.3718285214,mi:1.150779484848481,nm:1},sqft:{sqft:1,sqm:.09290304,sqkm:9.2903043596611e-8,sqmi:3.587e-8,sqnm:2.7051601137505e-8},sqyd:{sqft:8.9999247491639,sqm:.83612040133779,sqkm:8.3612040133779e-7,sqyd:1,sqmi:3.228278917579e-7,sqnm:2.4346237458194e-7},sqm:{sqft:10.76391,sqm:1,sqkm:1e-6,sqyd:1.196,sqmi:3.8610215854245e-7,sqnm:2.91181e-7},sqkm:{sqft:10763910,sqm:1e6,sqkm:1,sqyd:1196e3,sqmi:.38610215854245,sqnm:.291181},sqmi:{sqft:27878398.920726,sqm:2589988.110336,sqkm:2.589988110336,sqyd:27878398.920726,sqmi:1,sqnm:.75415532795574},sqnm:{sqft:36966388.603652,sqm:3434290.0120544,sqkm:3.4342900120544,sqyd:36966388.603652,sqmi:1.325986786715,sqnm:1}},g={deg:{rad:e=>e*Math.PI/180,percentage:e=>Math.round(100*Math.tan(e*Math.PI/180))},rad:{deg:e=>180*e/Math.PI,percentage:e=>Math.round(100*Math.tan(e))},percentage:{deg:e=>180*Math.atan(e/100)/Math.PI,rad:e=>Math.atan(e/100)}};function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return g[t]&&g[t][n]?g[t][n](e):h[t]&&h[t][n]?e*h[t][n]:e}const v=e=>!i()(parseFloat(e[0]))&&!i()(parseFloat(e[1])),y=function(){let{coordinates:e,type:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e;if("LineString"===t){if(n=e.filter(v),n.length<2)return[]}else if("Polygon"===t){if(n=r()(e).filter(v),n.length<3)return[[]];n=[n.concat([r()(n)])]}return n}},454295:(e,t,n)=>{"use strict";n.d(t,{zE:()=>y,k2:()=>b,tL:()=>N});var o=n(59854),r=n.n(o),a=n(385564),i=n.n(a),s=n(318029),l=n.n(s),p=n(944908),u=n.n(p),m=n(227361),d=n.n(m),c=n(423570),h=n.n(c),g=n(363082),E=n(556233),v=n(351546);const y="Measure",f=(e,t)=>({length:r()((0,E.Ov)(t,"m",e.length.label)||0,2)+" "+e.length.label,area:r()((0,E.Ov)(t,"sqm",e.area.label)||0,2)+" "+e.area.label,bearing:(0,E.rp)(r()(t||0,6)).toString()}),b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u()(e.map((e=>"LineString"===e.geometry.type&&"bearing"===d()(e,"properties.values[0].type","")?"Bearing":e.geometry.type)))},T={offsetY:1,fontSize:"10",fontSizeUom:"px",fontFamily:"Courier New",font:"10px Courier New",textAlign:"center",color:"#000000",opacity:1,fillColor:"#000000",fillOpacity:1},S={offsetY:-15,fontSize:"13",fontSizeUom:"px",fontFamily:"Courier New",font:"13px Courier New",textAlign:"center",color:"#000000",opacity:1,fillColor:"#000000",fillOpacity:1},N=(e,t,n,o,r,a)=>{const s=(e=>{const t=u()(e.map((e=>d()(e,"properties.values[0].type",""))));return t.length>1?{title:"Multiple Measurement",iconGlyph:"geometry-collection"}:{title:y+" "+l()(t[0]),iconGlyph:"1-measure-"+t[0]}})(e);return{type:"FeatureCollection",features:[...i()(e.map((e=>((e,t,n)=>{const o=n||S,r=!!e.properties?.values?.find((e=>"bearing"===e.type));return[{type:"Feature",geometry:{type:e.geometry.type,coordinates:(0,E.L0)(e.geometry),textLabels:e.geometry.textLabels},properties:{id:h()(),isValidFeature:!0,geometryGeodesic:"LineString"!==e.geometry.type||r?null:{type:"LineString",coordinates:(0,v.transformLineToArcs)(e.geometry.coordinates)},useGeodesicLines:"LineString"===e.geometry.type&&!r,values:e.properties?.values||[]},style:[{...g.z4[e.geometry.type],type:e.geometry.type,id:h()(),geometry:"LineString"!==e.geometry.type||r?null:"lineToArc",title:`${e.geometry.type} Style`,filtering:!0}].concat("LineString"===e.geometry.type?(0,g.N_)():[])},...e.properties.values.map((e=>{let{value:n,formattedValue:r,type:a,position:i}=e;return{type:"Feature",geometry:{type:"Point",coordinates:i},properties:{valueText:r||f(t,n)[a],isText:!0,isValidFeature:!0,id:h()()},style:{...o,id:h()(),filtering:!0,title:"Text Style",type:"Text"}}}))]})(e,n,a)))),...t.filter((e=>!!e)).map((e=>{let{text:t,position:n}=e;return{type:"Feature",geometry:{type:"Point",coordinates:n},properties:{valueText:t,isValidFeature:!0,isText:!0,id:h()()},style:{...T,id:h()(),filtering:!0,title:"Text Style",type:"Text"}}}))],properties:{id:o,description:r,type:y,title:s.title,iconGlyph:s.iconGlyph},style:{}}}},135393:(e,t,n)=>{var o=n(62663),r=n(244600),a=n(158748),i=RegExp("['’]","g");e.exports=function(e){return function(t){return o(a(r(t).replace(i,"")),e,"")}}},869389:(e,t,n)=>{var o=n(618674)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});e.exports=o},244600:(e,t,n)=>{var o=n(869389),r=n(479833),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=r(e))&&e.replace(a,o).replace(i,"")}},318029:(e,t,n)=>{var o=n(135393),r=n(711700),a=o((function(e,t,n){return e+(n?" ":"")+r(t)}));e.exports=a}}]);